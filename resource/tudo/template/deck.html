<!DOCTYPE html>
<html$if(lang)$ lang="$lang$"$endif$$if(dir)$ dir="$dir$"$endif$>

<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
$for(author-meta)$
  <meta name="author" content="$author-meta$">
$endfor$
$if(date-meta)$
  <meta name="dcterms.date" content="$date-meta$">
$endif$
$if(keywords)$
  <meta name="keywords" content="$for(keywords)$$keywords$$sep$, $endfor$">
$endif$
$if(title)$
$if(subtitle)$
  <title>$for(title)$ $title$$endfor$: $for(subtitle)$ $subtitle$$endfor$</title>
$else$
  <title>$for(title)$ $title$$endfor$</title>
$endif$
$endif$

  <!-- PWA stuff -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="$decker-support-dir$/pwa/icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#84b819" />
  <link rel="manifest" href="$decker-support-dir$/pwa/manifest.webmanifest" crossorigin="use-credentials" />

$if(template.favicon)$
  <link rel="shortcut icon" href="$template.favicon$">
$endif$

  <script type="module">
    /* Store JSON encoded Pandoc meta data in a global variable. */
    import initializeDecker from "./$decker-support-dir$/js/decker.js";
    initializeDecker("$decker-meta-url$");
  </script>

  $deck-styles.html()$

</head>

<body $if(hide-quizzes)$class="hide-quizzes"$endif$>
  <div class="reveal">
    <div class="slides">

      $if(title)$
$deck-title.html()$
      $endif$      
$body$

    </div>
  </div>
  $if(watermark)$
  <div class="watermark">
    $watermark$
  </div>
  $endif$

  <script src="$decker-support-dir$/vendor/videojs/video.min.js"></script>
  <script src="$decker-support-dir$/vendor/chartjs/chart.umd.js"></script>
  <script type="module" src="$decker-support-dir$/components/custom-dialog.js"></script>
  <script type="module" src="./$decker-support-dir$/js/color-scheme.js"></script>

$deck-plugins.html()$

$for(template.js)$
  <script src="$template.js$"></script>
$endfor$
$for(template.js-module)$
  <script type="module" src="$template.js-module$"></script>
$endfor$  
$for(template.deck.js)$
  <script src="$template.deck.js$"></script>
$endfor$
$for(template.deck.js-module)$
  <script type="module" src="$template.deck.js-module$"></script>
$endfor$

</body>
</html>
