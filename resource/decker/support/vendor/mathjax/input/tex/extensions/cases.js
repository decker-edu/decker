(()=>{"use strict";var e={d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{CasesBeginItem:()=>C,CasesConfiguration:()=>E,CasesMethods:()=>T,CasesTags:()=>P});const a=("undefined"!=typeof window?window:global).MathJax._.components.global,s=(a.GLOBAL,a.isObject,a.combineConfig,a.combineDefaults,a.combineWithMathJax),n=(a.MathJax,MathJax._.input.tex.HandlerTypes),r=n.ConfigurationType,o=n.HandlerType,i=MathJax._.input.tex.Configuration,u=i.Configuration,c=(i.ConfigurationHandler,i.ParserConfiguration,MathJax._.input.tex.TokenMap),m=(c.parseResult,c.AbstractTokenMap,c.RegExpMap,c.AbstractParseMap,c.CharacterMap,c.DelimiterMap,c.MacroMap),l=(c.CommandMap,c.EnvironmentMap),p=MathJax._.input.tex.ParseUtil,h=(p.KeyValueType,p.KeyValueTypes,p.ParseUtil),g=MathJax._.input.tex.base.BaseMethods,y=(g.splitAlignArray,g.default),d=MathJax._.input.tex.TexError.default,f=MathJax._.input.tex.base.BaseItems,b=(f.StartItem,f.StopItem,f.OpenItem,f.CloseItem,f.NullItem,f.PrimeItem,f.SubsupItem,f.OverItem,f.LeftItem,f.Middle,f.RightItem,f.BreakItem,f.BeginItem),x=(f.EndItem,f.StyleItem,f.PositionItem,f.CellItem,f.MmlItem,f.FnItem,f.NotItem,f.NonscriptItem,f.DotsItem,f.ArrayItem,f.EqnArrayItem,f.MstyleItem,f.EquationItem,MathJax._.input.tex.ams.AmsConfiguration),M=x.AmsTags,I=(x.AmsConfiguration,MathJax._.input.tex.empheq.EmpheqUtil.EmpheqUtil);class C extends b{get kind(){return"cases-begin"}checkItem(e){return e.isKind("end")&&e.getName()===this.getName()&&this.getProperty("end")?(this.setProperty("end",!1),[[],!0]):super.checkItem(e)}}class P extends M{constructor(){super(...arguments),this.subcounter=0}start(e,t,a){this.subcounter=0,super.start(e,t,a)}autoTag(){null==this.currentTag.tag&&("subnumcases"===this.currentTag.env?(0===this.subcounter&&this.counter++,this.subcounter++,this.tag(this.formatNumber(this.counter,this.subcounter),!1)):(0!==this.subcounter&&"numcases-left"===this.currentTag.env||this.counter++,this.tag(this.formatNumber(this.counter),!1)))}formatNumber(e,t=null){return e.toString()+(null===t?"":String.fromCharCode(96+t))}}const T={NumCases(e,t){if(e.stack.env.closing===t.getName()){delete e.stack.env.closing,e.Push(e.itemFactory.create("end").setProperty("name",t.getName()));const a=e.stack.Top(),s=a.Last,n=h.copyNode(s,e),r=a.getProperty("left");return I.left(s,n,r+"\\empheqlbrace\\,",e,"numcases-left"),e.Push(e.itemFactory.create("end").setProperty("name",t.getName())),null}{const a=e.GetArgument("\\begin{"+t.getName()+"}");t.setProperty("left",a);const s=y.EqnArray(e,t,!0,!0,"ll","tt");return s.arraydef.displaystyle=!1,s.arraydef.rowspacing=".2em",s.setProperty("numCases",!0),e.Push(t),s}},Entry(e,t){if(!e.stack.Top().getProperty("numCases"))return y.Entry(e,t);e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}));const a=e.string;let s=0,n=e.i,r=a.length;for(;n<r;){const e=a.charAt(n);if("{"===e)s++,n++;else if("}"===e){if(0===s)break;s--,n++}else{if("&"===e&&0===s)throw new d("ExtraCasesAlignTab","Extra alignment tab in text for numcase environment");if("\\"===e&&0===s){const e=(a.slice(n+1).match(/^[a-z]+|./i)||[])[0];if("\\"===e||"cr"===e||"end"===e||"label"===e)break;n+=e.length}else n++}}const o=a.substring(e.i,n).replace(/^\s*/,"");e.PushAll(h.internalMath(e,o,0)),e.i=n}};new l("cases-env",I.environment,{numcases:[T.NumCases,"cases"],subnumcases:[T.NumCases,"cases"]}),new m("cases-macros",{"&":T.Entry});const E=u.create("cases",{[r.HANDLER]:{[o.ENVIRONMENT]:["cases-env"],[o.CHARACTER]:["cases-macros"]},[r.ITEMS]:{[C.prototype.kind]:C},[r.TAGS]:{cases:P}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/cases","4.0.0-beta.7","tex-extension"),s({_:{input:{tex:{cases:{CasesConfiguration:t}}}}})})();