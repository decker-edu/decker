(()=>{"use strict";var o={d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};o.r(t),o.d(t,{ColorArrayItem:()=>p,ColortblConfiguration:()=>u});const e=("undefined"!=typeof window?window:global).MathJax._.components.global,r=(e.GLOBAL,e.isObject,e.combineConfig,e.combineDefaults,e.combineWithMathJax),a=(e.MathJax,MathJax._.input.tex.base.BaseItems),l=(a.StartItem,a.StopItem,a.OpenItem,a.CloseItem,a.PrimeItem,a.SubsupItem,a.OverItem,a.LeftItem,a.Middle,a.RightItem,a.BreakItem,a.BeginItem,a.EndItem,a.StyleItem,a.PositionItem,a.CellItem,a.MmlItem,a.FnItem,a.NotItem,a.NonscriptItem,a.DotsItem,a.ArrayItem),n=(a.EqnArrayItem,a.MstyleItem,a.EquationItem,MathJax._.input.tex.Configuration),i=n.Configuration,s=n.ConfigurationHandler,c=(n.ParserConfiguration,MathJax._.input.tex.TokenMap),m=(c.parseResult,c.AbstractTokenMap,c.RegExpMap,c.AbstractParseMap,c.CharacterMap,c.DelimiterMap,c.MacroMap,c.CommandMap),h=(c.EnvironmentMap,MathJax._.input.tex.TexError.default);class p extends l{constructor(){super(...arguments),this.color={cell:"",row:"",col:[]},this.hasColor=!1}EndEntry(){super.EndEntry();const o=this.row[this.row.length-1],t=this.color.cell||this.color.row||this.color.col[this.row.length-1];t&&(o.attributes.set("mathbackground",t),this.color.cell="",this.hasColor=!0)}EndRow(){super.EndRow(),this.color.row=""}createMml(){const o=super.createMml();let t=o.isKind("mrow")?o.childNodes[1]:o;if(t.isKind("menclose")&&(t=t.childNodes[0].childNodes[0]),this.hasColor){const o=t.attributes;"none"===o.get("frame")&&void 0===o.get("data-frame-styles")&&o.set("data-frame-styles","")}return o}}new m("colortbl",{cellcolor:["TableColor","cell"],rowcolor:["TableColor","row"],columncolor:["TableColor","col"]},{TableColor(o,t,e){const r=o.configuration.packageData.get("color").model,a=o.GetBrackets(t,""),l=r.getColor(a,o.GetArgument(t)),n=o.stack.Top();if(!(n instanceof p))throw new h("UnsupportedTableColor","Unsupported use of %1",o.currentCS);if("col"===e){if(n.table.length&&n.color.col[n.row.length]!==l)throw new h("ColumnColorNotTop","%1 must be in the top row or preamble",t);n.color.col[n.row.length]=l,o.GetBrackets(t,"")&&o.GetBrackets(t,"")}else if(n.color[e]=l,"row"===e&&(n.Size()||n.row.length))throw new h("RowColorNotFirst","%1 must be at the beginning of a row",t)}});const u=i.create("colortbl",{handler:{macro:["colortbl"]},items:{array:p},priority:10,config:[function(o,t){t.parseOptions.packageData.has("color")||s.get("color").config(o,t)},10]});MathJax.loader&&MathJax.loader.checkVersion("[tex]/colortbl","4.0.0-beta.4","tex-extension"),r({_:{input:{tex:{colortbl:{ColortblConfiguration:t}}}}})})();