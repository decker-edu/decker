(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{EmpheqUtil:()=>E});var n={};e.r(n),e.d(n,{EmpheqBeginItem:()=>f,EmpheqConfiguration:()=>y,EmpheqMethods:()=>O});const a=("undefined"!=typeof window?window:global).MathJax._.components.global,i=(a.GLOBAL,a.isObject,a.combineConfig,a.combineDefaults,a.combineWithMathJax),r=(a.MathJax,MathJax._.input.tex.HandlerTypes),m=r.ConfigurationType,o=r.HandlerType,p=MathJax._.input.tex.Configuration,l=p.Configuration,h=(p.ConfigurationHandler,p.ParserConfiguration,MathJax._.input.tex.TokenMap),s=(h.parseResult,h.AbstractTokenMap,h.RegExpMap,h.AbstractParseMap,h.CharacterMap,h.DelimiterMap,h.MacroMap,h.CommandMap),c=h.EnvironmentMap,d=MathJax._.input.tex.ParseUtil,g=(d.KeyValueType,d.KeyValueTypes,d.ParseUtil),q=MathJax._.input.tex.TexError.default,u=MathJax._.input.tex.base.BaseItems,b=(u.StartItem,u.StopItem,u.OpenItem,u.CloseItem,u.NullItem,u.PrimeItem,u.SubsupItem,u.OverItem,u.LeftItem,u.Middle,u.RightItem,u.BreakItem,u.BeginItem),M=(u.EndItem,u.StyleItem,u.PositionItem,u.CellItem,u.MmlItem,u.FnItem,u.NotItem,u.NonscriptItem,u.DotsItem,u.ArrayItem,u.EqnArrayItem,u.MstyleItem,u.EquationItem,MathJax._.input.tex.TexParser.default),E={environment(e,t,n,a){const i=a[0],r=e.itemFactory.create(i+"-begin").setProperties({name:t,end:i});e.Push(n(e,r,...a.slice(1)))},splitOptions:(e,t=null)=>g.keyvalOptions(e,t,!0),columnCount(e){let t=0;for(const n of e.childNodes){const e=n.childNodes.length-(n.isKind("mlabeledtr")?1:0);e>t&&(t=e)}return t},cellBlock(e,t,n,a){const i=n.create("node","mpadded",[],{height:0,depth:0,voffset:"-1height"}),r=new M(e,n.stack.env,n.configuration),m=r.mml();a&&r.configuration.tags.label&&(r.configuration.tags.currentTag.env=a,r.configuration.tags.getTag(!0));for(const e of m.isInferred?m.childNodes:[m])i.appendChild(e);return i.appendChild(n.create("node","mphantom",[n.create("node","mpadded",[t],{width:0})])),i},topRowTable(e,t){const n=g.copyNode(e,t);return n.setChildren(n.childNodes.slice(0,1)),n.attributes.set("align","baseline 1"),e.factory.create("mphantom",{},[t.create("node","mpadded",[n],{width:0})])},rowspanCell(e,t,n,a,i){e.appendChild(a.create("node","mpadded",[this.cellBlock(t,g.copyNode(n,a),a,i),this.topRowTable(n,a)],{height:0,depth:0,voffset:"height"}))},left(e,t,n,a,i=""){let r;e.attributes.set("columnalign","right "+(e.attributes.get("columnalign")||"")),e.attributes.set("columnspacing","0em "+(e.attributes.get("columnspacing")||""));for(const t of e.childNodes.slice(0).reverse())r=a.create("node","mtd"),t.childNodes.unshift(r),r.parent=t,t.isKind("mlabeledtr")&&(t.childNodes[0]=t.childNodes[1],t.childNodes[1]=r);this.rowspanCell(r,n,t,a,i)},right(e,t,n,a,i=""){0===e.childNodes.length&&e.appendChild(a.create("node","mtr"));const r=E.columnCount(e),m=e.childNodes[0];for(;m.childNodes.length<r;)m.appendChild(a.create("node","mtd"));const o=m.appendChild(a.create("node","mtd"));E.rowspanCell(o,n,t,a,i),e.attributes.set("columnalign",(e.attributes.get("columnalign")||"").split(/ /).slice(0,r).join(" ")+" left"),e.attributes.set("columnspacing",(e.attributes.get("columnspacing")||"").split(/ /).slice(0,r-1).join(" ")+" 0em")},adjustTable(e,t){const n=e.getProperty("left"),a=e.getProperty("right");if(n||a){const i=e.Last,r=g.copyNode(i,t);n&&this.left(i,r,n,t),a&&this.right(i,r,a,t)}},allowEnv:{equation:!0,align:!0,gather:!0,flalign:!0,alignat:!0,multline:!0},checkEnv(e){return this.allowEnv.hasOwnProperty(e.replace(/\*$/,""))||!1}};class f extends b{get kind(){return"empheq-begin"}checkItem(e){return e.isKind("end")&&e.getName()===this.getName()&&this.setProperty("end",!1),super.checkItem(e)}}const O={Empheq(e,t){if(e.stack.env.closing===t.getName()){delete e.stack.env.closing,e.Push(e.itemFactory.create("end").setProperty("name",e.stack.global.empheq)),e.stack.global.empheq="";const t=e.stack.Top();E.adjustTable(t,e),e.Push(e.itemFactory.create("end").setProperty("name","empheq"))}else{g.checkEqnEnv(e);const n=e.GetBrackets("\\begin{"+t.getName()+"}")||"",[a,i]=(e.GetArgument("\\begin{"+t.getName()+"}")||"").split(/=/);if(!E.checkEnv(a))throw new q("UnknownEnv",'Unknown environment "%1"',a);t.setProperty("nestable",!0),n&&t.setProperties(E.splitOptions(n,{left:1,right:1})),e.stack.global.empheq=a,e.string="\\begin{"+a+"}"+(i?"{"+i+"}":"")+e.string.slice(e.i),e.i=0,e.Push(t)}},EmpheqMO(e,t,n){e.Push(e.create("token","mo",{},n))},EmpheqDelim(e,t){const n=e.GetDelimiter(t);e.Push(e.create("token","mo",{stretchy:!0,symmetric:!0},n))}};new c("empheq-env",E.environment,{empheq:[O.Empheq,"empheq"]}),new s("empheq-macros",{empheqlbrace:[O.EmpheqMO,"{"],empheqrbrace:[O.EmpheqMO,"}"],empheqlbrack:[O.EmpheqMO,"["],empheqrbrack:[O.EmpheqMO,"]"],empheqlangle:[O.EmpheqMO,"\u27e8"],empheqrangle:[O.EmpheqMO,"\u27e9"],empheqlparen:[O.EmpheqMO,"("],empheqrparen:[O.EmpheqMO,")"],empheqlvert:[O.EmpheqMO,"|"],empheqrvert:[O.EmpheqMO,"|"],empheqlVert:[O.EmpheqMO,"\u2016"],empheqrVert:[O.EmpheqMO,"\u2016"],empheqlfloor:[O.EmpheqMO,"\u230a"],empheqrfloor:[O.EmpheqMO,"\u230b"],empheqlceil:[O.EmpheqMO,"\u2308"],empheqrceil:[O.EmpheqMO,"\u2309"],empheqbiglbrace:[O.EmpheqMO,"{"],empheqbigrbrace:[O.EmpheqMO,"}"],empheqbiglbrack:[O.EmpheqMO,"["],empheqbigrbrack:[O.EmpheqMO,"]"],empheqbiglangle:[O.EmpheqMO,"\u27e8"],empheqbigrangle:[O.EmpheqMO,"\u27e9"],empheqbiglparen:[O.EmpheqMO,"("],empheqbigrparen:[O.EmpheqMO,")"],empheqbiglvert:[O.EmpheqMO,"|"],empheqbigrvert:[O.EmpheqMO,"|"],empheqbiglVert:[O.EmpheqMO,"\u2016"],empheqbigrVert:[O.EmpheqMO,"\u2016"],empheqbiglfloor:[O.EmpheqMO,"\u230a"],empheqbigrfloor:[O.EmpheqMO,"\u230b"],empheqbiglceil:[O.EmpheqMO,"\u2308"],empheqbigrceil:[O.EmpheqMO,"\u2309"],empheql:O.EmpheqDelim,empheqr:O.EmpheqDelim,empheqbigl:O.EmpheqDelim,empheqbigr:O.EmpheqDelim});const y=l.create("empheq",{[m.HANDLER]:{[o.MACRO]:["empheq-macros"],[o.ENVIRONMENT]:["empheq-env"]},[m.ITEMS]:{[f.prototype.kind]:f}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/empheq","4.0.0-beta.7","tex-extension"),i({_:{input:{tex:{empheq:{EmpheqConfiguration:n,EmpheqUtil:t}}}}})})();