(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{GLOBAL:()=>Ot,MathJax:()=>St,combineConfig:()=>At,combineDefaults:()=>vt,combineWithMathJax:()=>Dt,isObject:()=>xt});var s={};t.r(s),t.d(s,{AbstractDOMAdaptor:()=>Bt});var i={};t.r(i),t.d(i,{HTMLAdaptor:()=>Mt});var r={};t.r(r),t.d(r,{browserAdaptor:()=>kt});var n={};t.r(n),t.d(n,{APPEND:()=>jt,Expandable:()=>Ft,OPTIONS:()=>Wt,REMOVE:()=>Ht,copy:()=>zt,defaultOptions:()=>Kt,expandable:()=>Xt,insert:()=>Gt,isObject:()=>wt,keys:()=>Jt,lookup:()=>Yt,makeArray:()=>qt,selectOptions:()=>Ut,selectOptionsFromKeys:()=>_t,separateOptions:()=>Vt,userOptions:()=>$t});var a={};t.r(a),t.d(a,{AbstractFindMath:()=>Zt});var o={};t.r(o),t.d(o,{PrioritizedList:()=>Qt});var l={};t.r(l),t.d(l,{FunctionList:()=>te});var h={};t.r(h),t.d(h,{AbstractInputJax:()=>ee});var c={};t.r(c),t.d(c,{AbstractOutputJax:()=>se});var d={};t.r(d),t.d(d,{END:()=>ie,LinkedList:()=>ne,ListItem:()=>re});var u={};t.r(u),t.d(u,{AbstractMathList:()=>ae});var p={};t.r(p),t.d(p,{AbstractMathItem:()=>le,STATE:()=>he,newState:()=>ce,protoItem:()=>oe});var E={};t.r(E),t.d(E,{AbstractFactory:()=>de});var m={};t.r(m),t.d(m,{AbstractNodeFactory:()=>ue});var g={};t.r(g),t.d(g,{Attributes:()=>Ee,INHERIT:()=>pe});var R={};t.r(R),t.d(R,{AbstractEmptyNode:()=>ge,AbstractNode:()=>me});var f={};t.r(f),t.d(f,{AbstractMmlBaseNode:()=>Oe,AbstractMmlEmptyNode:()=>xe,AbstractMmlLayoutNode:()=>Te,AbstractMmlNode:()=>Ie,AbstractMmlTokenNode:()=>ye,MATHVARIANTS:()=>be,TEXCLASS:()=>Re,TEXCLASSNAMES:()=>fe,TextNode:()=>Ae,XMLNode:()=>ve,indentAttributes:()=>Ce});var N={};t.r(N),t.d(N,{MmlMath:()=>De});var L={};t.r(L),t.d(L,{MmlMi:()=>Se});var b={};t.r(b),t.d(b,{MmlMn:()=>Be});var C={};t.r(C),t.d(C,{MMLSPACING:()=>je,MO:()=>ke,OPDEF:()=>Me,OPTABLE:()=>He,RANGES:()=>Pe,getRange:()=>we});var I={};t.r(I),t.d(I,{isPercent:()=>Je,quotePattern:()=>Fe,replaceUnicode:()=>Ge,sortLength:()=>We,split:()=>ze,unicodeChars:()=>Xe,unicodeString:()=>qe});var y={};t.r(y),t.d(y,{MmlMo:()=>Ke});var T={};t.r(T),t.d(T,{MmlMtext:()=>$e});var O={};t.r(O),t.d(O,{MmlMspace:()=>Ue});var x={};t.r(x),t.d(x,{MmlMs:()=>_e});var A={};t.r(A),t.d(A,{MmlInferredMrow:()=>Ye,MmlMrow:()=>Ve});var v={};t.r(v),t.d(v,{MmlMfrac:()=>Ze});var D={};t.r(D),t.d(D,{MmlMsqrt:()=>Qe});var S={};t.r(S),t.d(S,{MmlMroot:()=>ts});var B={};t.r(B),t.d(B,{MmlMstyle:()=>es});var M={};t.r(M),t.d(M,{MmlMerror:()=>ss});var k={};t.r(k),t.d(k,{MmlMpadded:()=>is});var P={};t.r(P),t.d(P,{MmlMphantom:()=>rs});var w={};t.r(w),t.d(w,{MmlMfenced:()=>ns});var j={};t.r(j),t.d(j,{MmlMenclose:()=>as});var H={};t.r(H),t.d(H,{MmlMaction:()=>os});var W={};t.r(W),t.d(W,{MmlMsub:()=>hs,MmlMsubsup:()=>ls,MmlMsup:()=>cs});var F={};t.r(F),t.d(F,{MmlMover:()=>ps,MmlMunder:()=>us,MmlMunderover:()=>ds});var X={};t.r(X),t.d(X,{MmlMmultiscripts:()=>Es,MmlMprescripts:()=>ms,MmlNone:()=>gs});var q={};t.r(q),t.d(q,{MmlMtable:()=>Rs});var J={};t.r(J),t.d(J,{MmlMlabeledtr:()=>Ns,MmlMtr:()=>fs});var z={};t.r(z),t.d(z,{MmlMtd:()=>Ls});var G={};t.r(G),t.d(G,{MmlMaligngroup:()=>bs});var K={};t.r(K),t.d(K,{MmlMalignmark:()=>Cs});var $={};t.r($),t.d($,{MmlMglyph:()=>Is});var U={};t.r(U),t.d(U,{MmlAnnotation:()=>Os,MmlAnnotationXML:()=>Ts,MmlSemantics:()=>ys});var _={};t.r(_),t.d(_,{TeXAtom:()=>xs});var V={};t.r(V),t.d(V,{MathChoice:()=>As});var Y={};t.r(Y),t.d(Y,{HtmlNode:()=>vs});var Z={};t.r(Z),t.d(Z,{MML:()=>Ds});var Q={};t.r(Q),t.d(Q,{MmlFactory:()=>Ss});var tt={};t.r(tt),t.d(tt,{BitField:()=>Bs,BitFieldClass:()=>Ms});var et={};t.r(et),t.d(et,{AbstractMathDocument:()=>Fs,RenderList:()=>ks,resetAllOptions:()=>ws,resetOptions:()=>Ps});var st={};t.r(st),t.d(st,{AbstractHandler:()=>qs});var it={};t.r(it),t.d(it,{HandlerList:()=>Js});var rt={};t.r(rt),t.d(rt,{AbstractVisitor:()=>zs});var nt={};t.r(nt),t.d(nt,{DATAMJX:()=>Gs,MmlVisitor:()=>Ks});var at={};t.r(at),t.d(at,{MathMLVisitor:()=>$s});var ot={};t.r(ot),t.d(ot,{SerializedMmlVisitor:()=>_s,toEntity:()=>Us});var lt={};t.r(lt),t.d(lt,{AbstractWrapper:()=>Vs});var ht={};t.r(ht),t.d(ht,{AbstractWrapperFactory:()=>Ys});var ct={};t.r(ct),t.d(ct,{handleRetriesFor:()=>Zs,retryAfter:()=>Qs});var dt={};t.r(dt),t.d(dt,{mathjax:()=>ti});var ut={};t.r(ut),t.d(ut,{HTMLMathItem:()=>ei});var pt={};t.r(pt),t.d(pt,{HTMLMathList:()=>si});var Et={};t.r(Et),t.d(Et,{HTMLDomStrings:()=>ii});var mt={};t.r(mt),t.d(mt,{HTMLDocument:()=>ri});var gt={};t.r(gt),t.d(gt,{HTMLHandler:()=>ni});var Rt={};t.r(Rt),t.d(Rt,{RegisterHTMLHandler:()=>ai});var ft={};t.r(ft),t.d(ft,{asyncLoad:()=>oi});var Nt={};t.r(Nt),t.d(Nt,{BIGDIMEN:()=>li,MATHSPACE:()=>di,RELUNITS:()=>ci,UNITS:()=>hi,em:()=>Ei,length2em:()=>ui,percent:()=>pi,px:()=>mi});var Lt={};t.r(Lt),t.d(Lt,{BBox:()=>gi});var bt={};t.r(bt),t.d(bt,{add:()=>Li,entities:()=>fi,numeric:()=>yi,options:()=>Ri,remove:()=>bi,translate:()=>Ci});var Ct={};t.r(Ct),t.d(Ct,{CssStyles:()=>Ti});var It={};t.r(It),t.d(It,{Styles:()=>wi,TRBL:()=>Oi,WSC:()=>xi});var yt={};t.r(yt),t.d(yt,{max:()=>Hi,sum:()=>ji});const Tt="4.0.0-beta.7",Ot="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:{};function xt(t){return"object"==typeof t&&null!==t}function At(t,e,s=!1){var i;for(const r of Object.keys(e))"__esModule"!==r&&t[r]!==e[r]&&null!==e[r]&&void 0!==e[r]&&(xt(t[r])&&xt(e[r])?At(t[r],e[r],s||"_"===r):s&&(null===(i=Object.getOwnPropertyDescriptor(t,r))||void 0===i?void 0:i.get)||(t[r]=e[r]));return t}function vt(t,e,s){t[e]||(t[e]={}),t=t[e];for(const e of Object.keys(s))xt(t[e])&&xt(s[e])?vt(t,e,s[e]):null==t[e]&&null!=s[e]&&(t[e]=s[e]);return t}function Dt(t){return At(St,t)}void 0===Ot.MathJax&&(Ot.MathJax={}),Ot.MathJax.version||(Ot.MathJax={version:Tt,_:{},config:Ot.MathJax});const St=Ot.MathJax;class Bt{constructor(t=null){this.canMeasureNodes=!0,this.document=t}node(t,e={},s=[],i){const r=this.create(t,i);this.setAttributes(r,e);for(const t of s)this.append(r,t);return r}setAttributes(t,e){if(e.style&&"string"!=typeof e.style)for(let s of Object.keys(e.style))this.setStyle(t,s.replace(/-([a-z])/g,((t,e)=>e.toUpperCase())),e.style[s]);if(e.properties)for(let s of Object.keys(e.properties))t[s]=e.properties[s];for(let s of Object.keys(e))"style"===s&&"string"!=typeof e.style||"properties"===s||this.setAttribute(t,s,e[s])}replace(t,e){return this.insert(t,e),this.remove(e),e}childNode(t,e){return this.childNodes(t)[e]}allClasses(t){const e=this.getAttribute(t,"class");return e?e.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]}cssText(t){return"style"===this.kind(t)?this.textContent(t):""}}class Mt extends Bt{constructor(t){super(t.document),this.canMeasureNodes=!0,this.window=t,this.parser=new t.DOMParser}parse(t,e="text/html"){return this.parser.parseFromString(t,e)}create(t,e){return e?this.document.createElementNS(e,t):this.document.createElement(t)}text(t){return this.document.createTextNode(t)}head(t){return t.head||t}body(t){return t.body||t}root(t){return t.documentElement||t}doctype(t){return t.doctype?`<!DOCTYPE ${t.doctype.name}>`:""}tags(t,e,s=null){let i=s?t.getElementsByTagNameNS(s,e):t.getElementsByTagName(e);return Array.from(i)}getElements(t,e){let s=[];for(const e of t)"string"==typeof e?s=s.concat(Array.from(this.document.querySelectorAll(e))):Array.isArray(e)||e instanceof this.window.NodeList||e instanceof this.window.HTMLCollection?s=s.concat(Array.from(e)):s.push(e);return s}contains(t,e){return t.contains(e)}parent(t){return t.parentNode}append(t,e){return t.appendChild(e)}insert(t,e){return this.parent(e).insertBefore(t,e)}remove(t){return this.parent(t).removeChild(t)}replace(t,e){return this.parent(e).replaceChild(t,e)}clone(t,e=!0){return t.cloneNode(e)}split(t,e){return t.splitText(e)}next(t){return t.nextSibling}previous(t){return t.previousSibling}firstChild(t){return t.firstChild}lastChild(t){return t.lastChild}childNodes(t){return Array.from(t.childNodes)}childNode(t,e){return t.childNodes[e]}kind(t){const e=t.nodeType;return 1===e||3===e||8===e?t.nodeName.toLowerCase():""}value(t){return t.nodeValue||""}textContent(t){return t.textContent}innerHTML(t){return t.innerHTML}outerHTML(t){return t.outerHTML}serializeXML(t){return(new this.window.XMLSerializer).serializeToString(t)}setAttribute(t,e,s,i=null){return i?(e=i.replace(/.*\//,"")+":"+e.replace(/^.*:/,""),t.setAttributeNS(i,e,s)):t.setAttribute(e,s)}getAttribute(t,e){return t.getAttribute(e)}removeAttribute(t,e){return t.removeAttribute(e)}hasAttribute(t,e){return t.hasAttribute(e)}allAttributes(t){return Array.from(t.attributes).map((t=>({name:t.name,value:t.value})))}addClass(t,e){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim()}removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/ /).filter((t=>t!==e)).join(" ")}hasClass(t,e){return t.classList?t.classList.contains(e):t.className.split(/ /).indexOf(e)>=0}setStyle(t,e,s){t.style[e]=s}getStyle(t,e){return t.style[e]}allStyles(t){return t.style.cssText}insertRules(t,e){for(const s of e)try{t.sheet.insertRule(s,t.sheet.cssRules.length)}catch(t){console.warn(`MathJax: can't insert css rule '${s}': ${t.message}`)}}cssText(t){return"style"!==this.kind(t)?"":Array.from(t.sheet.cssRules).map((t=>t.cssText)).join("\n")}fontSize(t){const e=this.window.getComputedStyle(t);return parseFloat(e.fontSize)}fontFamily(t){return this.window.getComputedStyle(t).fontFamily||""}nodeSize(t,e=1,s=!1){if(s&&t.getBBox){let{width:s,height:i}=t.getBBox();return[s/e,i/e]}return[t.offsetWidth/e,t.offsetHeight/e]}nodeBBox(t){const{left:e,right:s,top:i,bottom:r}=t.getBoundingClientRect();return{left:e,right:s,top:i,bottom:r}}}function kt(){return new Mt(window)}const Pt={}.constructor;function wt(t){return"object"==typeof t&&null!==t&&(t.constructor===Pt||t.constructor===Ft)}const jt="[+]",Ht="[-]",Wt={invalidOption:"warn",optionError:(t,e)=>{if("fatal"===Wt.invalidOption)throw new Error(t);console.warn("MathJax: "+t)}};class Ft{}function Xt(t){return Object.assign(Object.create(Ft.prototype),t)}function qt(t){return Array.isArray(t)?t:[t]}function Jt(t){return t?Object.keys(t).concat(Object.getOwnPropertySymbols(t)):[]}function zt(t){let e={};for(const s of Jt(t)){let i=Object.getOwnPropertyDescriptor(t,s),r=i.value;Array.isArray(r)?i.value=Gt([],r,!1):wt(r)&&(i.value=zt(r)),i.enumerable&&(e[s]=i)}return Object.defineProperties(t.constructor===Ft?Xt({}):{},e)}function Gt(t,e,s=!0){for(let i of Jt(e)){if(s&&void 0===t[i]&&t.constructor!==Ft){"symbol"==typeof i&&(i=i.toString()),Wt.optionError(`Invalid option "${i}" (no default value).`,i);continue}let r=e[i],n=t[i];if(!wt(r)||null===n||"object"!=typeof n&&"function"!=typeof n)Array.isArray(r)?(t[i]=[],Gt(t[i],r,!1)):wt(r)?t[i]=zt(r):t[i]=r;else{const e=Jt(r);Array.isArray(n)&&(1===e.length&&(e[0]===jt||e[0]===Ht)&&Array.isArray(r[e[0]])||2===e.length&&e.sort().join(",")===jt+","+Ht&&Array.isArray(r[jt])&&Array.isArray(r[Ht]))?(r[Ht]&&(n=t[i]=n.filter((t=>r[Ht].indexOf(t)<0))),r[jt]&&(t[i]=[...n,...r[jt]])):Gt(n,r,s)}}return t}function Kt(t,...e){return e.forEach((e=>Gt(t,e,!1))),t}function $t(t,...e){return e.forEach((e=>Gt(t,e,!0))),t}function Ut(t,...e){let s={};for(const i of e)t.hasOwnProperty(i)&&(s[i]=t[i]);return s}function _t(t,e){return Ut(t,...Object.keys(e))}function Vt(t,...e){let s=[];for(const i of e){let e={},r={};for(const s of Object.keys(t||{}))(void 0===i[s]?r:e)[s]=t[s];s.push(e),t=r}return s.unshift(t),s}function Yt(t,e,s=null){return e.hasOwnProperty(t)?e[t]:s}class Zt{constructor(t){let e=this.constructor;this.options=$t(Kt({},e.OPTIONS),t)}}Zt.OPTIONS={};class Qt{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t=0,e=this.items;return{next:()=>({value:e[t++],done:t>e.length})}}add(t,e=Qt.DEFAULTPRIORITY){let s=this.items.length;do{s--}while(s>=0&&e<this.items[s].priority);return this.items.splice(s+1,0,{item:t,priority:e}),t}remove(t){let e=this.items.length;do{e--}while(e>=0&&this.items[e].item!==t);return e>=0&&this.items.splice(e,1),this}}Qt.DEFAULTPRIORITY=5;class te extends Qt{execute(...t){for(const e of this){if(!1===e.item(...t))return!1}return!0}asyncExecute(...t){let e=-1,s=this.items;return new Promise(((i,r)=>{!function n(){for(;++e<s.length;){let a=s[e].item(...t);if(a instanceof Promise)return void a.then(n).catch((t=>r(t)));if(!1===a)return void i(!1)}i(!0)}()}))}}class ee{constructor(t={}){this.adaptor=null,this.mmlFactory=null;let e=this.constructor;this.options=$t(Kt({},e.OPTIONS),t),this.preFilters=new te,this.postFilters=new te}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}setMmlFactory(t){this.mmlFactory=t}initialize(){}reset(...t){}get processStrings(){return!0}findMath(t,e){return[]}executeFilters(t,e,s,i){let r={math:e,document:s,data:i};return t.execute(r),r.data}}ee.NAME="generic",ee.OPTIONS={};class se{constructor(t={}){this.adaptor=null;let e=this.constructor;this.options=$t(Kt({},e.OPTIONS),t),this.postFilters=new te}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}initialize(){}reset(...t){}getMetrics(t){}styleSheet(t){return null}pageElements(t){return null}executeFilters(t,e,s,i){let r={math:e,document:s,data:i};return t.execute(r),r.data}}se.NAME="generic",se.OPTIONS={};const ie=Symbol();class re{constructor(t=null){this.next=null,this.prev=null,this.data=t}}class ne{constructor(...t){this.list=new re(ie),this.list.next=this.list.prev=this.list,this.push(...t)}isBefore(t,e){return t<e}push(...t){for(const e of t){let t=new re(e);t.next=this.list,t.prev=this.list.prev,this.list.prev=t,t.prev.next=t}return this}pop(){let t=this.list.prev;return t.data===ie?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)}unshift(...t){for(const e of t.slice(0).reverse()){let t=new re(e);t.next=this.list.next,t.prev=this.list,this.list.next=t,t.next.prev=t}return this}shift(){let t=this.list.next;return t.data===ie?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)}remove(...t){const e=new Map;for(const s of t)e.set(s,!0);let s=this.list.next;for(;s.data!==ie;){const t=s.next;e.has(s.data)&&(s.prev.next=s.next,s.next.prev=s.prev,s.next=s.prev=null),s=t}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let t=this.list.next;for(;t.data!==ie;)yield t.data,t=t.next}*reversed(){let t=this.list.prev;for(;t.data!==ie;)yield t.data,t=t.prev}insert(t,e=null){null===e&&(e=this.isBefore.bind(this));let s=new re(t),i=this.list.next;for(;i.data!==ie&&e(i.data,s.data);)i=i.next;return s.prev=i.prev,s.next=i,i.prev.next=i.prev=s,this}sort(t=null){null===t&&(t=this.isBefore.bind(this));let e=[];for(const t of this)e.push(new ne(t));for(this.list.next=this.list.prev=this.list;e.length>1;){let s=e.shift(),i=e.shift();s.merge(i,t),e.push(s)}return e.length&&(this.list=e[0].list),this}merge(t,e=null){null===e&&(e=this.isBefore.bind(this));let s=this.list.next,i=t.list.next;for(;s.data!==ie&&i.data!==ie;)e(i.data,s.data)?([i.prev.next,s.prev.next]=[s,i],[i.prev,s.prev]=[s.prev,i.prev],[this.list.prev.next,t.list.prev.next]=[t.list,this.list],[this.list.prev,t.list.prev]=[t.list.prev,this.list.prev],[s,i]=[i.next,s]):s=s.next;return i.data!==ie&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this}}class ae extends ne{isBefore(t,e){return t.start.i<e.start.i||t.start.i===e.start.i&&t.start.n<e.start.n}}function oe(t,e,s,i,r,n,a=null){return{open:t,math:e,close:s,n:i,start:{n:r},end:{n},display:a}}class le{get isEscaped(){return null===this.display}constructor(t,e,s=!0,i={i:0,n:0,delim:""},r={i:0,n:0,delim:""}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=he.UNPROCESSED,this.math=t,this.inputJax=e,this.display=s,this.start=i,this.end=r,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(t){t.renderActions.renderMath(this,t)}rerender(t,e=he.RERENDER){this.state()>=e&&this.state(e-1),t.renderActions.renderMath(this,t,e)}convert(t,e=he.LAST){t.renderActions.renderConvert(this,t,e)}compile(t){this.state()<he.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(he.COMPILED))}typeset(t){this.state()<he.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(he.TYPESET))}updateDocument(t){}removeFromDocument(t=!1){}setMetrics(t,e,s,i){this.metrics={em:t,ex:e,containerWidth:s,scale:i}}state(t=null,e=!1){return null!=t&&(t<he.INSERTED&&this._state>=he.INSERTED&&this.removeFromDocument(e),t<he.TYPESET&&this._state>=he.TYPESET&&(this.outputData={}),t<he.COMPILED&&this._state>=he.COMPILED&&(this.inputData={}),this._state=t),this._state}reset(t=!1){this.state(he.UNPROCESSED,t)}}const he={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function ce(t,e){if(t in he)throw Error("State "+t+" already exists");he[t]=e}class de{constructor(t=null){this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===t&&(t=this.constructor.defaultNodes);for(const e of Object.keys(t))this.setNodeClass(e,t[e])}create(t,...e){return(this.node[t]||this.node[this.defaultKind])(...e)}setNodeClass(t,e){this.nodeMap.set(t,e);let s=this,i=this.nodeMap.get(t);this.node[t]=(...t)=>new i(s,...t)}getNodeClass(t){return this.nodeMap.get(t)}deleteNodeClass(t){this.nodeMap.delete(t),delete this.node[t]}nodeIsKind(t,e){return t instanceof this.getNodeClass(e)}getKinds(){return Array.from(this.nodeMap.keys())}}de.defaultNodes={};class ue extends de{create(t,e={},s=[]){return this.node[t](e,s)}}const pe="_inherit_";class Ee{constructor(t,e){this.global=e,this.defaults=Object.create(e),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}set(t,e){this.attributes[t]=e}setList(t){Object.assign(this.attributes,t)}unset(t){delete this.attributes[t]}get(t){let e=this.attributes[t];return e===pe&&(e=this.global[t]),e}getExplicit(t){return this.hasExplicit(t)?this.attributes[t]:void 0}hasExplicit(t){return this.attributes.hasOwnProperty(t)}hasOneOf(t){for(const e of t)if(this.hasExplicit(e))return!0;return!1}getList(...t){let e={};for(const s of t)e[s]=this.get(s);return e}setInherited(t,e){this.inherited[t]=e}getInherited(t){return this.inherited[t]}getDefault(t){return this.defaults[t]}isSet(t){return this.attributes.hasOwnProperty(t)||this.inherited.hasOwnProperty(t)}hasDefault(t){return t in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class me{constructor(t,e={},s=[]){this.factory=t,this.parent=null,this.properties={},this.childNodes=[];for(const t of Object.keys(e))this.setProperty(t,e[t]);s.length&&this.setChildren(s)}get kind(){return"unknown"}setProperty(t,e){this.properties[t]=e}getProperty(t){return this.properties[t]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t){for(const e of t)delete this.properties[e]}isKind(t){return this.factory.nodeIsKind(this,t)}setChildren(t){this.childNodes=[];for(let e of t)this.appendChild(e)}appendChild(t){return this.childNodes.push(t),t.parent=this,t}replaceChild(t,e){let s=this.childIndex(e);return null!==s&&(this.childNodes[s]=t,t.parent=this,e.parent===this&&(e.parent=null)),t}removeChild(t){const e=this.childIndex(t);return null!==e&&(this.childNodes.splice(e,1),t.parent=null),t}childIndex(t){let e=this.childNodes.indexOf(t);return-1===e?null:e}copy(){const t=this.factory.create(this.kind);t.properties=Object.assign({},this.properties);for(const e of this.childNodes||[])e&&t.appendChild(e.copy());return t}findNodes(t){let e=[];return this.walkTree((s=>{s.isKind(t)&&e.push(s)})),e}walkTree(t,e){t(this,e);for(const s of this.childNodes)s&&s.walkTree(t,e);return e}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class ge extends me{setChildren(t){}appendChild(t){return t}replaceChild(t,e){return e}childIndex(t){return null}walkTree(t,e){return t(this,e),e}toString(){return this.kind}}const Re={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},fe=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER"],Ne=["","thinmathspace","mediummathspace","thickmathspace"],Le=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],be=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]),Ce=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];class Ie extends me{constructor(t,e={},s=[]){super(t),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(s),this.attributes=new Ee(t.getNodeClass(this.kind).defaults,t.getNodeClass("math").defaults),this.attributes.setList(e)}copy(t=!1){const e=this.factory.create(this.kind);if(e.properties=Object.assign({},this.properties),this.attributes){const s=this.attributes.getAllAttributes();for(const i of Object.keys(s))("id"!==i||t)&&e.attributes.set(i,s[i])}if(this.childNodes&&this.childNodes.length){let t=this.childNodes;1===t.length&&t[0].isInferred&&(t=t[0].childNodes);for(const s of t)s?e.appendChild(s.copy()):e.childNodes.push(null)}return e}get texClass(){return this.texclass}set texClass(t){this.texclass=t}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t=this.parent;for(;t&&t.notParent;)t=t.Parent;return t}get notParent(){return!1}setChildren(t){return this.arity<0?this.childNodes[0].setChildren(t):super.setChildren(t)}appendChild(t){if(this.arity<0)return this.childNodes[0].appendChild(t),t;if(t.isInferred){if(this.arity===1/0)return t.childNodes.forEach((t=>super.appendChild(t))),t;const e=t;(t=this.factory.create("mrow")).setChildren(e.childNodes),t.attributes=e.attributes;for(const s of e.getPropertyNames())t.setProperty(s,e.getProperty(s))}return super.appendChild(t)}replaceChild(t,e){return this.arity<0?(this.childNodes[0].replaceChild(t,e),t):super.replaceChild(t,e)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let t=this,e=t.parent;for(;e&&e.notParent;)t=e,e=e.parent;if(e){let s=0;for(const i of e.childNodes){if(i===t)return s;s++}}return null}setTeXclass(t){return this.getPrevClass(t),null!=this.texClass?this:t}updateTeXclass(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)}getPrevClass(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))}texSpacing(){let t=null!=this.prevClass?this.prevClass:Re.NONE,e=this.texClass||Re.ORD;if(t===Re.NONE||e===Re.NONE)return"";let s=Le[t][e];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&s>=0?"":Ne[Math.abs(s)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t={},e=!1,s=0,i=!1){var r,n,a;let o=this.attributes.getAllDefaults();for(const e of Object.keys(t)){if(o.hasOwnProperty(e)||Ie.alwaysInherit.hasOwnProperty(e)){let[s,i]=t[e];!(null===(n=null===(r=Ie.noInherit[s])||void 0===r?void 0:r[this.kind])||void 0===n?void 0:n[e])&&this.attributes.setInherited(e,i)}(null===(a=Ie.stopInherit[this.kind])||void 0===a?void 0:a[e])&&delete(t=Object.assign({},t))[e]}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",e),void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",s),i&&this.setProperty("texprimestyle",i);let l=this.arity;if(l>=0&&l!==1/0&&(1===l&&0===this.childNodes.length||1!==l&&this.childNodes.length!==l))if(l<this.childNodes.length)this.childNodes=this.childNodes.slice(0,l);else for(;this.childNodes.length<l;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const e=this.linebreakAlign;if(e){const s=this.attributes.get(e)||"left";t=this.addInheritedAttributes(t,{indentalign:s,indentshift:"0",indentalignfirst:s,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r.setInheritedAttributes(t,e,s,i)}addInheritedAttributes(t,e){let s=Object.assign({},t);for(const t of Object.keys(e))"displaystyle"!==t&&"scriptlevel"!==t&&"style"!==t&&(s[t]=[this.kind,e[t]]);return s}inheritAttributesFrom(t){const e=t.attributes,s=e.get("displaystyle"),i=e.get("scriptlevel"),r=e.isSet("mathsize")?{mathsize:["math",e.get("mathsize")]}:{},n=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(r,s,i,n)}verifyTree(t=null){if(null===t)return;this.verifyAttributes(t);let e=this.arity;t.checkArity&&e>=0&&e!==1/0&&(1===e&&0===this.childNodes.length||1!==e&&this.childNodes.length!==e)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t)}verifyAttributes(t){if(t.checkAttributes){const e=this.attributes,s=[];for(const t of e.getExplicitNames())"data-"===t.substring(0,5)||void 0!==e.getDefault(t)||t.match(/^(?:class|style|id|(?:xlink:)?href)$/)||s.push(t);s.length&&this.mError("Unknown attributes for "+this.kind+" node: "+s.join(", "),t)}if(t.checkMathvariants){const e=this.attributes.getExplicit("mathvariant");!e||be.has(e)||this.getProperty("ignore-variant")||this.mError(`Invalid mathvariant: ${e}`,t,!0)}}verifyChildren(t){for(const e of this.childNodes)e.verifyTree(t)}mError(t,e,s=!1){if(this.parent&&this.parent.isKind("merror"))return null;let i=this.factory.create("merror");if(i.attributes.set("data-mjx-message",t),e.fullErrors||s){let s=this.factory.create("mtext"),r=this.factory.create("text");r.setText(e.fullErrors?t:this.kind),s.appendChild(r),i.appendChild(s),this.parent.replaceChild(i,this),e.fullErrors||i.attributes.set("title",t)}else this.parent.replaceChild(i,this),i.appendChild(this);return i}}Ie.defaults={mathbackground:pe,mathcolor:pe,mathsize:pe,dir:pe},Ie.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},Ie.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},Ie.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},Ie.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class ye extends Ie{get isToken(){return!0}getText(){let t="";for(const e of this.childNodes)e instanceof Ae?t+=e.getText():"textContent"in e&&(t+=e.textContent());return t}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r instanceof Ie&&r.setInheritedAttributes(t,e,s,i)}walkTree(t,e){t(this,e);for(const s of this.childNodes)s instanceof Ie&&s.walkTree(t,e);return e}}ye.defaults=Object.assign(Object.assign({},Ie.defaults),{mathvariant:"normal",mathsize:pe});class Te extends Ie{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}Te.defaults=Ie.defaults;class Oe extends Ie{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){this.getPrevClass(t),this.texClass=Re.ORD;let e=this.childNodes[0];e?this.isEmbellished||e.isKind("mi")?(t=e.setTeXclass(t),this.updateTeXclass(this.core())):(e.setTeXclass(null),t=this):t=this;for(const t of this.childNodes.slice(1))t&&t.setTeXclass(null);return t}}Oe.defaults=Ie.defaults;class xe extends ge{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return Re.NONE}get prevClass(){return Re.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t){return t}texSpacing(){return""}setInheritedAttributes(t,e,s,i){}inheritAttributesFrom(t){}verifyTree(t){}mError(t,e,s=!1){return null}}class Ae extends xe{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(t){return this.text=t,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class ve extends xe{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return"XML"}getXML(){return this.xml}setXML(t,e=null){return this.xml=t,this.adaptor=e,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return"XML data"}}class De extends Te{get kind(){return"math"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,i){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),e=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",e),s=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(t,e,s,i)}verifyTree(t=null){super.verifyTree(t),this.parent&&this.mError("Improper nesting of math tags",t,!0)}}De.defaults=Object.assign(Object.assign({},Te.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",infixlinebreakstyle:"before",lineleading:"100%",linebreakmultchar:"\u2062",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class Se extends ye{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mi"}setInheritedAttributes(t={},e=!1,s=0,i=!1){super.setInheritedAttributes(t,e,s,i),this.getText().match(Se.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")}setTeXclass(t){this.getPrevClass(t);let e=this.getText();return e.length>1&&e.match(Se.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=Re.OP,this.setProperty("autoOP",!0)),this}}Se.defaults=Object.assign({},ye.defaults),Se.operatorName=/^[a-z][a-z0-9]*$/i,Se.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class Be extends ye{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mn"}}function Me(t,e,s=Re.BIN,i=null){return[t,e,s,i]}Be.defaults=Object.assign({},ye.defaults);const ke={ORD:Me(0,0,Re.ORD),ORD11:Me(1,1,Re.ORD),ORD21:Me(2,1,Re.ORD),ORD02:Me(0,2,Re.ORD),ORD55:Me(5,5,Re.ORD),NONE:Me(0,0,Re.NONE),OP:Me(1,2,Re.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:Me(1,2,Re.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:Me(0,1,Re.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:Me(1,2,Re.OP,{largeop:!0,symmetric:!0}),BIN3:Me(3,3,Re.BIN),BIN4:Me(4,4,Re.BIN),BIN01:Me(0,1,Re.BIN),BIN5:Me(5,5,Re.BIN),TALLBIN:Me(4,4,Re.BIN,{stretchy:!0}),BINOP:Me(4,4,Re.BIN,{largeop:!0,movablelimits:!0}),REL:Me(5,5,Re.REL),REL1:Me(1,1,Re.REL,{stretchy:!0}),REL4:Me(4,4,Re.REL),RELSTRETCH:Me(5,5,Re.REL,{stretchy:!0}),RELACCENT:Me(5,5,Re.REL,{accent:!0}),WIDEREL:Me(5,5,Re.REL,{accent:!0,stretchy:!0}),OPEN:Me(0,0,Re.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:Me(0,0,Re.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:Me(0,0,Re.INNER),PUNCT:Me(0,3,Re.PUNCT),ACCENT:Me(0,0,Re.ORD,{accent:!0}),WIDEACCENT:Me(0,0,Re.ORD,{accent:!0,stretchy:!0})},Pe=[[32,127,Re.REL,"mo"],[160,191,Re.ORD,"mo"],[192,591,Re.ORD,"mi"],[688,879,Re.ORD,"mo"],[880,6688,Re.ORD,"mi"],[6832,6911,Re.ORD,"mo"],[6912,7615,Re.ORD,"mi"],[7616,7679,Re.ORD,"mo"],[7680,8191,Re.ORD,"mi"],[8192,8303,Re.ORD,"mo"],[8304,8351,Re.ORD,"mo"],[8448,8527,Re.ORD,"mi"],[8528,8591,Re.ORD,"mn"],[8592,8703,Re.REL,"mo"],[8704,8959,Re.BIN,"mo"],[8960,9215,Re.ORD,"mo"],[9312,9471,Re.ORD,"mn"],[9472,10223,Re.ORD,"mo"],[10224,10239,Re.REL,"mo"],[10240,10495,Re.ORD,"mtext"],[10496,10623,Re.REL,"mo"],[10624,10751,Re.ORD,"mo"],[10752,11007,Re.BIN,"mo"],[11008,11055,Re.ORD,"mo"],[11056,11087,Re.REL,"mo"],[11088,11263,Re.ORD,"mo"],[11264,11744,Re.ORD,"mi"],[11776,11903,Re.ORD,"mo"],[11904,12255,Re.ORD,"mi","normal"],[12272,12351,Re.ORD,"mo"],[12352,42143,Re.ORD,"mi","normal"],[42192,43055,Re.ORD,"mi"],[43056,43071,Re.ORD,"mn"],[43072,55295,Re.ORD,"mi"],[63744,64255,Re.ORD,"mi","normal"],[64256,65023,Re.ORD,"mi"],[65024,65135,Re.ORD,"mo"],[65136,65791,Re.ORD,"mi"],[65792,65935,Re.ORD,"mn"],[65936,74751,Re.ORD,"mi","normal"],[74752,74879,Re.ORD,"mn"],[74880,113823,Re.ORD,"mi","normal"],[113824,119391,Re.ORD,"mo"],[119648,119679,Re.ORD,"mn"],[119808,120781,Re.ORD,"mi"],[120782,120831,Re.ORD,"mn"],[122624,129023,Re.ORD,"mo"],[129024,129279,Re.REL,"mo"],[129280,129535,Re.ORD,"mo"],[131072,195103,Re.ORD,"mi","normal"]];function we(t){const e=He.infix[t]||He.prefix[t]||He.postfix[t];if(e)return[0,0,e[2],"mo"];const s=t.codePointAt(0);for(const t of Pe)if(s<=t[1]){if(s>=t[0])return t;break}return[0,0,Re.REL,"mo"]}const je=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],He={prefix:{"(":ke.OPEN,"+":ke.BIN01,"-":ke.BIN01,"[":ke.OPEN,"{":ke.OPEN,"|":ke.OPEN,"||":[0,0,Re.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Re.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xac":ke.ORD21,"\xb1":ke.BIN01,"\u2016":[0,0,Re.ORD,{fence:!0,stretchy:!0}],"\u2018":[0,0,Re.OPEN,{fence:!0}],"\u201c":[0,0,Re.OPEN,{fence:!0}],\u2145:ke.ORD21,\u2146:Me(2,0,Re.ORD),"\u2200":ke.ORD21,"\u2202":ke.ORD21,"\u2203":ke.ORD21,"\u2204":ke.ORD21,"\u2207":ke.ORD21,"\u220f":ke.OP,"\u2210":ke.OP,"\u2211":ke.OP,"\u2212":ke.BIN01,"\u2213":ke.BIN01,"\u221a":[1,1,Re.ORD,{stretchy:!0}],"\u221b":ke.ORD11,"\u221c":ke.ORD11,"\u2220":ke.ORD,"\u2221":ke.ORD,"\u2222":ke.ORD,"\u222b":ke.INTEGRAL,"\u222c":ke.INTEGRAL,"\u222d":ke.INTEGRAL,"\u222e":ke.INTEGRAL,"\u222f":ke.INTEGRAL,"\u2230":ke.INTEGRAL,"\u2231":ke.INTEGRAL,"\u2232":ke.INTEGRAL,"\u2233":ke.INTEGRAL,"\u22c0":ke.OP,"\u22c1":ke.OP,"\u22c2":ke.OP,"\u22c3":ke.OP,"\u2308":ke.OPEN,"\u230a":ke.OPEN,"\u2329":ke.OPEN,"\u2772":ke.OPEN,"\u27e6":ke.OPEN,"\u27e8":ke.OPEN,"\u27ea":ke.OPEN,"\u27ec":ke.OPEN,"\u27ee":ke.OPEN,"\u2980":[0,0,Re.ORD,{fence:!0,stretchy:!0}],"\u2983":ke.OPEN,"\u2985":ke.OPEN,"\u2987":ke.OPEN,"\u2989":ke.OPEN,"\u298b":ke.OPEN,"\u298d":ke.OPEN,"\u298f":ke.OPEN,"\u2991":ke.OPEN,"\u2993":ke.OPEN,"\u2995":ke.OPEN,"\u2997":ke.OPEN,"\u29fc":ke.OPEN,"\u2a00":ke.OP,"\u2a01":ke.OP,"\u2a02":ke.OP,"\u2a03":ke.OP,"\u2a04":ke.OP,"\u2a05":ke.OP,"\u2a06":ke.OP,"\u2a07":ke.OP,"\u2a08":ke.OP,"\u2a09":ke.OP,"\u2a0a":ke.OP,"\u2a0b":ke.INTEGRAL2,"\u2a0c":ke.INTEGRAL,"\u2a0d":ke.INTEGRAL2,"\u2a0e":ke.INTEGRAL2,"\u2a0f":ke.INTEGRAL2,"\u2a10":ke.OP,"\u2a11":ke.OP,"\u2a12":ke.OP,"\u2a13":ke.OP,"\u2a14":ke.OP,"\u2a15":ke.INTEGRAL2,"\u2a16":ke.INTEGRAL2,"\u2a17":ke.INTEGRAL2,"\u2a18":ke.INTEGRAL2,"\u2a19":ke.INTEGRAL2,"\u2a1a":ke.INTEGRAL2,"\u2a1b":ke.INTEGRAL2,"\u2a1c":ke.INTEGRAL2,"\u2afc":ke.OP,"\u2aff":ke.OP},postfix:{"!!":Me(1,0),"!":[1,0,Re.CLOSE,null],'"':ke.ACCENT,"&":ke.ORD,")":ke.CLOSE,"++":Me(0,0),"--":Me(0,0),"..":Me(0,0),"...":ke.ORD,"'":ke.ACCENT,"]":ke.CLOSE,"^":ke.WIDEACCENT,_:ke.WIDEACCENT,"`":ke.ACCENT,"|":ke.CLOSE,"}":ke.CLOSE,"~":ke.WIDEACCENT,"||":[0,0,Re.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Re.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xa8":ke.ACCENT,\u00aa:ke.ACCENT,"\xaf":ke.WIDEACCENT,"\xb0":ke.ORD,"\xb2":ke.ACCENT,"\xb3":ke.ACCENT,"\xb4":ke.ACCENT,"\xb8":ke.ACCENT,"\xb9":ke.ACCENT,\u00ba:ke.ACCENT,\u02c6:ke.WIDEACCENT,\u02c7:ke.WIDEACCENT,\u02c9:ke.WIDEACCENT,\u02ca:ke.ACCENT,\u02cb:ke.ACCENT,\u02cd:ke.WIDEACCENT,"\u02d8":ke.ACCENT,"\u02d9":ke.ACCENT,"\u02da":ke.ACCENT,"\u02dc":ke.WIDEACCENT,"\u02dd":ke.ACCENT,"\u02f7":ke.WIDEACCENT,"\u0302":ke.WIDEACCENT,"\u0311":ke.ACCENT,"\u03f6":ke.REL,"\u2016":[0,0,Re.ORD,{fence:!0,stretchy:!0}],"\u2019":[0,0,Re.CLOSE,{fence:!0}],"\u201a":ke.ACCENT,"\u201b":ke.ACCENT,"\u201d":[0,0,Re.CLOSE,{fence:!0}],"\u201e":ke.ACCENT,"\u201f":ke.ACCENT,"\u2032":ke.ORD,"\u2033":ke.ORD,"\u2034":ke.ORD,"\u2035":ke.ORD,"\u2036":ke.ORD,"\u2037":ke.ORD,"\u203e":ke.WIDEACCENT,"\u2057":ke.ORD,"\u20db":ke.ACCENT,"\u20dc":ke.ACCENT,"\u2309":ke.CLOSE,"\u230b":ke.CLOSE,"\u232a":ke.CLOSE,"\u23b4":ke.WIDEACCENT,"\u23b5":ke.WIDEACCENT,"\u23dc":ke.WIDEACCENT,"\u23dd":ke.WIDEACCENT,"\u23de":ke.WIDEACCENT,"\u23df":ke.WIDEACCENT,"\u23e0":ke.WIDEACCENT,"\u23e1":ke.WIDEACCENT,"\u25a0":ke.BIN3,"\u25a1":ke.BIN3,"\u25aa":ke.BIN3,"\u25ab":ke.BIN3,"\u25ad":ke.BIN3,"\u25ae":ke.BIN3,"\u25af":ke.BIN3,"\u25b0":ke.BIN3,"\u25b1":ke.BIN3,"\u25b2":ke.BIN4,"\u25b4":ke.BIN4,"\u25b6":ke.BIN4,"\u25b7":ke.BIN4,"\u25b8":ke.BIN4,"\u25bc":ke.BIN4,"\u25be":ke.BIN4,"\u25c0":ke.BIN4,"\u25c1":ke.BIN4,"\u25c2":ke.BIN4,"\u25c4":ke.BIN4,"\u25c5":ke.BIN4,"\u25c6":ke.BIN4,"\u25c7":ke.BIN4,"\u25c8":ke.BIN4,"\u25c9":ke.BIN4,"\u25cc":ke.BIN4,"\u25cd":ke.BIN4,"\u25ce":ke.BIN4,"\u25cf":ke.BIN4,"\u25d6":ke.BIN4,"\u25d7":ke.BIN4,"\u25e6":ke.BIN4,"\u266d":ke.ORD02,"\u266e":ke.ORD02,"\u266f":ke.ORD02,"\u2773":ke.CLOSE,"\u27e7":ke.CLOSE,"\u27e9":ke.CLOSE,"\u27eb":ke.CLOSE,"\u27ed":ke.CLOSE,"\u27ef":ke.CLOSE,"\u2980":[0,0,Re.ORD,{fence:!0,stretchy:!0}],"\u2984":ke.CLOSE,"\u2986":ke.CLOSE,"\u2988":ke.CLOSE,"\u298a":ke.CLOSE,"\u298c":ke.CLOSE,"\u298e":ke.CLOSE,"\u2990":ke.CLOSE,"\u2992":ke.CLOSE,"\u2994":ke.CLOSE,"\u2996":ke.CLOSE,"\u2998":ke.CLOSE,"\u29fd":ke.CLOSE},infix:{"!=":ke.BIN4,"#":ke.ORD,$:ke.ORD,"%":[3,3,Re.ORD,null],"&&":ke.BIN4,"":ke.ORD,"*":ke.BIN3,"**":Me(1,1),"*=":ke.BIN4,"+":ke.BIN4,"+=":ke.BIN4,",":[0,3,Re.PUNCT,{linebreakstyle:"after",separator:!0}],"-":ke.BIN4,"-=":ke.BIN4,"->":ke.BIN5,".":[0,3,Re.PUNCT,{linebreakstyle:"after",separator:!0}],"/":ke.ORD11,"//":Me(1,1),"/=":ke.BIN4,":":[1,2,Re.REL,null],":=":ke.BIN4,";":[0,3,Re.PUNCT,{linebreakstyle:"after",separator:!0}],"<":ke.REL,"<=":ke.BIN5,"<>":Me(1,1),"=":ke.REL,"==":ke.BIN4,">":ke.REL,">=":ke.BIN5,"?":[1,1,Re.CLOSE,null],"@":ke.ORD11,"\\":ke.ORD,"^":ke.ORD11,_:ke.ORD11,"|":[2,2,Re.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,Re.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,Re.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xb1":ke.BIN4,"\xb7":ke.BIN4,"\xd7":ke.BIN4,"\xf7":ke.BIN4,\u02b9:ke.ORD,"\u0300":ke.ACCENT,"\u0301":ke.ACCENT,"\u0303":ke.WIDEACCENT,"\u0304":ke.ACCENT,"\u0306":ke.ACCENT,"\u0307":ke.ACCENT,"\u0308":ke.ACCENT,"\u030c":ke.ACCENT,"\u0332":ke.WIDEACCENT,"\u0338":ke.REL4,"\u2015":[0,0,Re.ORD,{stretchy:!0}],"\u2017":[0,0,Re.ORD,{stretchy:!0}],"\u2020":ke.BIN3,"\u2021":ke.BIN3,"\u2022":ke.BIN4,"\u2026":ke.INNER,"\u2043":ke.BIN4,"\u2044":ke.TALLBIN,"\u2061":ke.NONE,"\u2062":ke.NONE,"\u2063":[0,0,Re.NONE,{linebreakstyle:"after",separator:!0}],"\u2064":ke.NONE,"\u20d7":ke.ACCENT,\u2111:ke.ORD,\u2113:ke.ORD,\u2118:ke.ORD,\u211c:ke.ORD,"\u2190":ke.WIDEREL,"\u2191":ke.RELSTRETCH,"\u2192":ke.WIDEREL,"\u2193":ke.RELSTRETCH,"\u2194":ke.WIDEREL,"\u2195":ke.RELSTRETCH,"\u2196":ke.RELSTRETCH,"\u2197":ke.RELSTRETCH,"\u2198":ke.RELSTRETCH,"\u2199":ke.RELSTRETCH,"\u219a":ke.RELACCENT,"\u219b":ke.RELACCENT,"\u219c":ke.WIDEREL,"\u219d":ke.WIDEREL,"\u219e":ke.WIDEREL,"\u219f":ke.WIDEREL,"\u21a0":ke.WIDEREL,"\u21a1":ke.RELSTRETCH,"\u21a2":ke.WIDEREL,"\u21a3":ke.WIDEREL,"\u21a4":ke.WIDEREL,"\u21a5":ke.RELSTRETCH,"\u21a6":ke.WIDEREL,"\u21a7":ke.RELSTRETCH,"\u21a8":ke.RELSTRETCH,"\u21a9":ke.WIDEREL,"\u21aa":ke.WIDEREL,"\u21ab":ke.WIDEREL,"\u21ac":ke.WIDEREL,"\u21ad":ke.WIDEREL,"\u21ae":ke.RELACCENT,"\u21af":ke.RELSTRETCH,"\u21b0":ke.RELSTRETCH,"\u21b1":ke.RELSTRETCH,"\u21b2":ke.RELSTRETCH,"\u21b3":ke.RELSTRETCH,"\u21b4":ke.RELSTRETCH,"\u21b5":ke.RELSTRETCH,"\u21b6":ke.RELACCENT,"\u21b7":ke.RELACCENT,"\u21b8":ke.REL,"\u21b9":ke.WIDEREL,"\u21ba":ke.REL,"\u21bb":ke.REL,"\u21bc":ke.WIDEREL,"\u21bd":ke.WIDEREL,"\u21be":ke.RELSTRETCH,"\u21bf":ke.RELSTRETCH,"\u21c0":ke.WIDEREL,"\u21c1":ke.WIDEREL,"\u21c2":ke.RELSTRETCH,"\u21c3":ke.RELSTRETCH,"\u21c4":ke.WIDEREL,"\u21c5":ke.RELSTRETCH,"\u21c6":ke.WIDEREL,"\u21c7":ke.WIDEREL,"\u21c8":ke.RELSTRETCH,"\u21c9":ke.WIDEREL,"\u21ca":ke.RELSTRETCH,"\u21cb":ke.WIDEREL,"\u21cc":ke.WIDEREL,"\u21cd":ke.RELACCENT,"\u21ce":ke.RELACCENT,"\u21cf":ke.RELACCENT,"\u21d0":ke.WIDEREL,"\u21d1":ke.RELSTRETCH,"\u21d2":ke.WIDEREL,"\u21d3":ke.RELSTRETCH,"\u21d4":ke.WIDEREL,"\u21d5":ke.RELSTRETCH,"\u21d6":ke.RELSTRETCH,"\u21d7":ke.RELSTRETCH,"\u21d8":ke.RELSTRETCH,"\u21d9":ke.RELSTRETCH,"\u21da":ke.WIDEREL,"\u21db":ke.WIDEREL,"\u21dc":ke.WIDEREL,"\u21dd":ke.WIDEREL,"\u21de":ke.REL,"\u21df":ke.REL,"\u21e0":ke.WIDEREL,"\u21e1":ke.RELSTRETCH,"\u21e2":ke.WIDEREL,"\u21e3":ke.RELSTRETCH,"\u21e4":ke.WIDEREL,"\u21e5":ke.WIDEREL,"\u21e6":ke.WIDEREL,"\u21e7":ke.RELSTRETCH,"\u21e8":ke.WIDEREL,"\u21e9":ke.RELSTRETCH,"\u21ea":ke.RELSTRETCH,"\u21eb":ke.RELSTRETCH,"\u21ec":ke.RELSTRETCH,"\u21ed":ke.RELSTRETCH,"\u21ee":ke.RELSTRETCH,"\u21ef":ke.RELSTRETCH,"\u21f0":ke.WIDEREL,"\u21f1":ke.REL,"\u21f2":ke.REL,"\u21f3":ke.RELSTRETCH,"\u21f4":ke.RELACCENT,"\u21f5":ke.RELSTRETCH,"\u21f6":ke.WIDEREL,"\u21f7":ke.RELACCENT,"\u21f8":ke.RELACCENT,"\u21f9":ke.RELACCENT,"\u21fa":ke.RELACCENT,"\u21fb":ke.RELACCENT,"\u21fc":ke.RELACCENT,"\u21fd":ke.WIDEREL,"\u21fe":ke.WIDEREL,"\u21ff":ke.WIDEREL,"\u2201":Me(1,2,Re.ORD),"\u2205":ke.ORD,"\u2206":ke.BIN3,"\u2208":ke.REL,"\u2209":ke.REL,"\u220a":ke.REL,"\u220b":ke.REL,"\u220c":ke.REL,"\u220d":ke.REL,"\u220e":ke.BIN3,"\u2212":ke.BIN4,"\u2213":ke.BIN4,"\u2214":ke.BIN4,"\u2215":ke.TALLBIN,"\u2216":ke.BIN4,"\u2217":ke.BIN4,"\u2218":ke.BIN4,"\u2219":ke.BIN4,"\u221d":ke.REL,"\u221e":ke.ORD,"\u221f":ke.REL,"\u2223":ke.REL,"\u2224":ke.REL,"\u2225":ke.REL,"\u2226":ke.REL,"\u2227":ke.BIN4,"\u2228":ke.BIN4,"\u2229":ke.BIN4,"\u222a":ke.BIN4,"\u2234":ke.REL,"\u2235":ke.REL,"\u2236":ke.REL,"\u2237":ke.REL,"\u2238":ke.BIN4,"\u2239":ke.REL,"\u223a":ke.BIN4,"\u223b":ke.REL,"\u223c":ke.REL,"\u223d":ke.REL,"\u223d\u0331":ke.BIN3,"\u223e":ke.REL,"\u223f":ke.BIN3,"\u2240":ke.BIN4,"\u2241":ke.REL,"\u2242":ke.REL,"\u2242\u0338":ke.REL,"\u2243":ke.REL,"\u2244":ke.REL,"\u2245":ke.REL,"\u2246":ke.REL,"\u2247":ke.REL,"\u2248":ke.REL,"\u2249":ke.REL,"\u224a":ke.REL,"\u224b":ke.REL,"\u224c":ke.REL,"\u224d":ke.REL,"\u224e":ke.REL,"\u224e\u0338":ke.REL,"\u224f":ke.REL,"\u224f\u0338":ke.REL,"\u2250":ke.REL,"\u2251":ke.REL,"\u2252":ke.REL,"\u2253":ke.REL,"\u2254":ke.REL,"\u2255":ke.REL,"\u2256":ke.REL,"\u2257":ke.REL,"\u2258":ke.REL,"\u2259":ke.REL,"\u225a":ke.REL,"\u225b":ke.REL,"\u225c":ke.REL,"\u225d":ke.REL,"\u225e":ke.REL,"\u225f":ke.REL,"\u2260":ke.REL,"\u2261":ke.REL,"\u2262":ke.REL,"\u2263":ke.REL,"\u2264":ke.REL,"\u2265":ke.REL,"\u2266":ke.REL,"\u2266\u0338":ke.REL,"\u2267":ke.REL,"\u2268":ke.REL,"\u2269":ke.REL,"\u226a":ke.REL,"\u226a\u0338":ke.REL,"\u226b":ke.REL,"\u226b\u0338":ke.REL,"\u226c":ke.REL,"\u226d":ke.REL,"\u226e":ke.REL,"\u226f":ke.REL,"\u2270":ke.REL,"\u2271":ke.REL,"\u2272":ke.REL,"\u2273":ke.REL,"\u2274":ke.REL,"\u2275":ke.REL,"\u2276":ke.REL,"\u2277":ke.REL,"\u2278":ke.REL,"\u2279":ke.REL,"\u227a":ke.REL,"\u227b":ke.REL,"\u227c":ke.REL,"\u227d":ke.REL,"\u227e":ke.REL,"\u227f":ke.REL,"\u227f\u0338":ke.REL,"\u2280":ke.REL,"\u2281":ke.REL,"\u2282":ke.REL,"\u2282\u20d2":ke.REL,"\u2283":ke.REL,"\u2283\u20d2":ke.REL,"\u2284":ke.REL,"\u2285":ke.REL,"\u2286":ke.REL,"\u2287":ke.REL,"\u2288":ke.REL,"\u2289":ke.REL,"\u228a":ke.REL,"\u228b":ke.REL,"\u228c":ke.BIN4,"\u228d":ke.BIN4,"\u228e":ke.BIN4,"\u228f":ke.REL,"\u228f\u0338":ke.REL,"\u2290":ke.REL,"\u2290\u0338":ke.REL,"\u2291":ke.REL,"\u2292":ke.REL,"\u2293":ke.BIN4,"\u2294":ke.BIN4,"\u2295":ke.BIN4,"\u2296":ke.BIN4,"\u2297":ke.BIN4,"\u2298":ke.BIN4,"\u2299":ke.BIN4,"\u229a":ke.BIN4,"\u229b":ke.BIN4,"\u229c":ke.BIN4,"\u229d":ke.BIN4,"\u229e":ke.BIN4,"\u229f":ke.BIN4,"\u22a0":ke.BIN4,"\u22a1":ke.BIN4,"\u22a2":ke.REL,"\u22a3":ke.REL,"\u22a4":ke.ORD55,"\u22a5":ke.REL,"\u22a6":ke.REL,"\u22a7":ke.REL,"\u22a8":ke.REL,"\u22a9":ke.REL,"\u22aa":ke.REL,"\u22ab":ke.REL,"\u22ac":ke.REL,"\u22ad":ke.REL,"\u22ae":ke.REL,"\u22af":ke.REL,"\u22b0":ke.REL,"\u22b1":ke.REL,"\u22b2":ke.REL,"\u22b3":ke.REL,"\u22b4":ke.REL,"\u22b5":ke.REL,"\u22b6":ke.REL,"\u22b7":ke.REL,"\u22b8":ke.REL,"\u22b9":ke.REL,"\u22ba":ke.BIN4,"\u22bb":ke.BIN4,"\u22bc":ke.BIN4,"\u22bd":ke.BIN4,"\u22be":ke.BIN3,"\u22bf":ke.BIN3,"\u22c4":ke.BIN4,"\u22c5":ke.BIN4,"\u22c6":ke.BIN4,"\u22c7":ke.BIN4,"\u22c8":ke.REL,"\u22c9":ke.BIN4,"\u22ca":ke.BIN4,"\u22cb":ke.BIN4,"\u22cc":ke.BIN4,"\u22cd":ke.REL,"\u22ce":ke.BIN4,"\u22cf":ke.BIN4,"\u22d0":ke.REL,"\u22d1":ke.REL,"\u22d2":ke.BIN4,"\u22d3":ke.BIN4,"\u22d4":ke.REL,"\u22d5":ke.REL,"\u22d6":ke.REL,"\u22d7":ke.REL,"\u22d8":ke.REL,"\u22d9":ke.REL,"\u22da":ke.REL,"\u22db":ke.REL,"\u22dc":ke.REL,"\u22dd":ke.REL,"\u22de":ke.REL,"\u22df":ke.REL,"\u22e0":ke.REL,"\u22e1":ke.REL,"\u22e2":ke.REL,"\u22e3":ke.REL,"\u22e4":ke.REL,"\u22e5":ke.REL,"\u22e6":ke.REL,"\u22e7":ke.REL,"\u22e8":ke.REL,"\u22e9":ke.REL,"\u22ea":ke.REL,"\u22eb":ke.REL,"\u22ec":ke.REL,"\u22ed":ke.REL,"\u22ee":ke.ORD55,"\u22ef":ke.INNER,"\u22f0":ke.REL,"\u22f1":[5,5,Re.INNER,null],"\u22f2":ke.REL,"\u22f3":ke.REL,"\u22f4":ke.REL,"\u22f5":ke.REL,"\u22f6":ke.REL,"\u22f7":ke.REL,"\u22f8":ke.REL,"\u22f9":ke.REL,"\u22fa":ke.REL,"\u22fb":ke.REL,"\u22fc":ke.REL,"\u22fd":ke.REL,"\u22fe":ke.REL,"\u22ff":ke.REL,"\u2305":ke.BIN3,"\u2306":ke.BIN3,"\u2322":ke.REL4,"\u2323":ke.REL4,"\u2329":ke.OPEN,"\u232a":ke.CLOSE,"\u23aa":ke.ORD,"\u23af":[0,0,Re.ORD,{stretchy:!0}],"\u23b0":ke.OPEN,"\u23b1":ke.CLOSE,"\u2500":ke.ORD,"\u25b3":ke.BIN4,"\u25b5":ke.BIN4,"\u25b9":ke.BIN4,"\u25bd":ke.BIN4,"\u25bf":ke.BIN4,"\u25c3":ke.BIN4,"\u25ef":ke.BIN3,"\u2660":ke.ORD,"\u2661":ke.ORD,"\u2662":ke.ORD,"\u2663":ke.ORD,"\u2758":ke.REL,"\u27f0":ke.RELSTRETCH,"\u27f1":ke.RELSTRETCH,"\u27f5":ke.WIDEREL,"\u27f6":ke.WIDEREL,"\u27f7":ke.WIDEREL,"\u27f8":ke.WIDEREL,"\u27f9":ke.WIDEREL,"\u27fa":ke.WIDEREL,"\u27fb":ke.WIDEREL,"\u27fc":ke.WIDEREL,"\u27fd":ke.WIDEREL,"\u27fe":ke.WIDEREL,"\u27ff":ke.WIDEREL,"\u2900":ke.RELACCENT,"\u2901":ke.RELACCENT,"\u2902":ke.RELACCENT,"\u2903":ke.RELACCENT,"\u2904":ke.RELACCENT,"\u2905":ke.RELACCENT,"\u2906":ke.RELACCENT,"\u2907":ke.RELACCENT,"\u2908":ke.REL,"\u2909":ke.REL,"\u290a":ke.RELSTRETCH,"\u290b":ke.RELSTRETCH,"\u290c":ke.WIDEREL,"\u290d":ke.WIDEREL,"\u290e":ke.WIDEREL,"\u290f":ke.WIDEREL,"\u2910":ke.WIDEREL,"\u2911":ke.RELACCENT,"\u2912":ke.RELSTRETCH,"\u2913":ke.RELSTRETCH,"\u2914":ke.RELACCENT,"\u2915":ke.RELACCENT,"\u2916":ke.RELACCENT,"\u2917":ke.RELACCENT,"\u2918":ke.RELACCENT,"\u2919":ke.RELACCENT,"\u291a":ke.RELACCENT,"\u291b":ke.RELACCENT,"\u291c":ke.RELACCENT,"\u291d":ke.RELACCENT,"\u291e":ke.RELACCENT,"\u291f":ke.RELACCENT,"\u2920":ke.RELACCENT,"\u2921":ke.RELSTRETCH,"\u2922":ke.RELSTRETCH,"\u2923":ke.REL,"\u2924":ke.REL,"\u2925":ke.REL,"\u2926":ke.REL,"\u2927":ke.REL,"\u2928":ke.REL,"\u2929":ke.REL,"\u292a":ke.REL,"\u292b":ke.REL,"\u292c":ke.REL,"\u292d":ke.REL,"\u292e":ke.REL,"\u292f":ke.REL,"\u2930":ke.REL,"\u2931":ke.REL,"\u2932":ke.REL,"\u2933":ke.RELACCENT,"\u2934":ke.REL,"\u2935":ke.REL,"\u2936":ke.REL,"\u2937":ke.REL,"\u2938":ke.REL,"\u2939":ke.REL,"\u293a":ke.RELACCENT,"\u293b":ke.RELACCENT,"\u293c":ke.RELACCENT,"\u293d":ke.RELACCENT,"\u293e":ke.REL,"\u293f":ke.REL,"\u2940":ke.REL,"\u2941":ke.REL,"\u2942":ke.RELACCENT,"\u2943":ke.RELACCENT,"\u2944":ke.RELACCENT,"\u2945":ke.RELACCENT,"\u2946":ke.RELACCENT,"\u2947":ke.RELACCENT,"\u2948":ke.RELACCENT,"\u2949":ke.REL,"\u294a":ke.RELACCENT,"\u294b":ke.RELACCENT,"\u294c":ke.REL,"\u294d":ke.REL,"\u294e":ke.WIDEREL,"\u294f":ke.RELSTRETCH,"\u2950":ke.WIDEREL,"\u2951":ke.RELSTRETCH,"\u2952":ke.WIDEREL,"\u2953":ke.WIDEREL,"\u2954":ke.RELSTRETCH,"\u2955":ke.RELSTRETCH,"\u2956":ke.RELSTRETCH,"\u2957":ke.RELSTRETCH,"\u2958":ke.RELSTRETCH,"\u2959":ke.RELSTRETCH,"\u295a":ke.WIDEREL,"\u295b":ke.WIDEREL,"\u295c":ke.RELSTRETCH,"\u295d":ke.RELSTRETCH,"\u295e":ke.WIDEREL,"\u295f":ke.WIDEREL,"\u2960":ke.RELSTRETCH,"\u2961":ke.RELSTRETCH,"\u2962":ke.RELACCENT,"\u2963":ke.REL,"\u2964":ke.RELACCENT,"\u2965":ke.REL,"\u2966":ke.RELACCENT,"\u2967":ke.RELACCENT,"\u2968":ke.RELACCENT,"\u2969":ke.RELACCENT,"\u296a":ke.RELACCENT,"\u296b":ke.RELACCENT,"\u296c":ke.RELACCENT,"\u296d":ke.RELACCENT,"\u296e":ke.RELSTRETCH,"\u296f":ke.RELSTRETCH,"\u2970":ke.RELACCENT,"\u2971":ke.RELACCENT,"\u2972":ke.RELACCENT,"\u2973":ke.RELACCENT,"\u2974":ke.RELACCENT,"\u2975":ke.RELACCENT,"\u2976":ke.RELACCENT,"\u2977":ke.RELACCENT,"\u2978":ke.RELACCENT,"\u2979":ke.RELACCENT,"\u297a":ke.RELACCENT,"\u297b":ke.RELACCENT,"\u297c":ke.RELACCENT,"\u297d":ke.RELACCENT,"\u297e":ke.REL,"\u297f":ke.REL,"\u2981":ke.BIN3,"\u2982":ke.BIN3,"\u2999":ke.BIN3,"\u299a":ke.BIN3,"\u299b":ke.BIN3,"\u299c":ke.BIN3,"\u299d":ke.BIN3,"\u299e":ke.BIN3,"\u299f":ke.BIN3,"\u29a0":ke.BIN3,"\u29a1":ke.BIN3,"\u29a2":ke.BIN3,"\u29a3":ke.BIN3,"\u29a4":ke.BIN3,"\u29a5":ke.BIN3,"\u29a6":ke.BIN3,"\u29a7":ke.BIN3,"\u29a8":ke.BIN3,"\u29a9":ke.BIN3,"\u29aa":ke.BIN3,"\u29ab":ke.BIN3,"\u29ac":ke.BIN3,"\u29ad":ke.BIN3,"\u29ae":ke.BIN3,"\u29af":ke.BIN3,"\u29b0":ke.BIN3,"\u29b1":ke.BIN3,"\u29b2":ke.BIN3,"\u29b3":ke.BIN3,"\u29b4":ke.BIN3,"\u29b5":ke.BIN3,"\u29b6":ke.BIN4,"\u29b7":ke.BIN4,"\u29b8":ke.BIN4,"\u29b9":ke.BIN4,"\u29ba":ke.BIN4,"\u29bb":ke.BIN4,"\u29bc":ke.BIN4,"\u29bd":ke.BIN4,"\u29be":ke.BIN4,"\u29bf":ke.BIN4,"\u29c0":ke.REL,"\u29c1":ke.REL,"\u29c2":ke.BIN3,"\u29c3":ke.BIN3,"\u29c4":ke.BIN4,"\u29c5":ke.BIN4,"\u29c6":ke.BIN4,"\u29c7":ke.BIN4,"\u29c8":ke.BIN4,"\u29c9":ke.BIN3,"\u29ca":ke.BIN3,"\u29cb":ke.BIN3,"\u29cc":ke.BIN3,"\u29cd":ke.BIN3,"\u29ce":ke.REL,"\u29cf":ke.REL,"\u29cf\u0338":ke.REL,"\u29d0":ke.REL,"\u29d0\u0338":ke.REL,"\u29d1":ke.REL,"\u29d2":ke.REL,"\u29d3":ke.REL,"\u29d4":ke.REL,"\u29d5":ke.REL,"\u29d6":ke.BIN4,"\u29d7":ke.BIN4,"\u29d8":ke.BIN3,"\u29d9":ke.BIN3,"\u29db":ke.BIN3,"\u29dc":ke.BIN3,"\u29dd":ke.BIN3,"\u29de":ke.REL,"\u29df":ke.BIN3,"\u29e0":ke.BIN3,"\u29e1":ke.REL,"\u29e2":ke.BIN4,"\u29e3":ke.REL,"\u29e4":ke.REL,"\u29e5":ke.REL,"\u29e6":ke.REL,"\u29e7":ke.BIN3,"\u29e8":ke.BIN3,"\u29e9":ke.BIN3,"\u29ea":ke.BIN3,"\u29eb":ke.BIN3,"\u29ec":ke.BIN3,"\u29ed":ke.BIN3,"\u29ee":ke.BIN3,"\u29ef":ke.BIN3,"\u29f0":ke.BIN3,"\u29f1":ke.BIN3,"\u29f2":ke.BIN3,"\u29f3":ke.BIN3,"\u29f4":ke.REL,"\u29f5":ke.BIN4,"\u29f6":ke.BIN4,"\u29f7":ke.BIN4,"\u29f8":ke.BIN3,"\u29f9":ke.BIN3,"\u29fa":ke.BIN3,"\u29fb":ke.BIN3,"\u29fe":ke.BIN4,"\u29ff":ke.BIN4,"\u2a1d":ke.BIN3,"\u2a1e":ke.BIN3,"\u2a1f":ke.BIN3,"\u2a20":ke.BIN3,"\u2a21":ke.BIN3,"\u2a22":ke.BIN4,"\u2a23":ke.BIN4,"\u2a24":ke.BIN4,"\u2a25":ke.BIN4,"\u2a26":ke.BIN4,"\u2a27":ke.BIN4,"\u2a28":ke.BIN4,"\u2a29":ke.BIN4,"\u2a2a":ke.BIN4,"\u2a2b":ke.BIN4,"\u2a2c":ke.BIN4,"\u2a2d":ke.BIN4,"\u2a2e":ke.BIN4,"\u2a2f":ke.BIN4,"\u2a30":ke.BIN4,"\u2a31":ke.BIN4,"\u2a32":ke.BIN4,"\u2a33":ke.BIN4,"\u2a34":ke.BIN4,"\u2a35":ke.BIN4,"\u2a36":ke.BIN4,"\u2a37":ke.BIN4,"\u2a38":ke.BIN4,"\u2a39":ke.BIN4,"\u2a3a":ke.BIN4,"\u2a3b":ke.BIN4,"\u2a3c":ke.BIN4,"\u2a3d":ke.BIN4,"\u2a3e":ke.BIN4,"\u2a3f":ke.BIN4,"\u2a40":ke.BIN4,"\u2a41":ke.BIN4,"\u2a42":ke.BIN4,"\u2a43":ke.BIN4,"\u2a44":ke.BIN4,"\u2a45":ke.BIN4,"\u2a46":ke.BIN4,"\u2a47":ke.BIN4,"\u2a48":ke.BIN4,"\u2a49":ke.BIN4,"\u2a4a":ke.BIN4,"\u2a4b":ke.BIN4,"\u2a4c":ke.BIN4,"\u2a4d":ke.BIN4,"\u2a4e":ke.BIN4,"\u2a4f":ke.BIN4,"\u2a50":ke.BIN4,"\u2a51":ke.BIN4,"\u2a52":ke.BIN4,"\u2a53":ke.BIN4,"\u2a54":ke.BIN4,"\u2a55":ke.BIN4,"\u2a56":ke.BIN4,"\u2a57":ke.BIN4,"\u2a58":ke.BIN4,"\u2a59":ke.REL,"\u2a5a":ke.BIN4,"\u2a5b":ke.BIN4,"\u2a5c":ke.BIN4,"\u2a5d":ke.BIN4,"\u2a5e":ke.BIN4,"\u2a5f":ke.BIN4,"\u2a60":ke.BIN4,"\u2a61":ke.BIN4,"\u2a62":ke.BIN4,"\u2a63":ke.BIN4,"\u2a64":ke.BIN4,"\u2a65":ke.BIN4,"\u2a66":ke.REL,"\u2a67":ke.REL,"\u2a68":ke.REL,"\u2a69":ke.REL,"\u2a6a":ke.REL,"\u2a6b":ke.REL,"\u2a6c":ke.REL,"\u2a6d":ke.REL,"\u2a6e":ke.REL,"\u2a6f":ke.REL,"\u2a70":ke.REL,"\u2a71":ke.BIN4,"\u2a72":ke.BIN4,"\u2a73":ke.REL,"\u2a74":ke.REL,"\u2a75":ke.REL,"\u2a76":ke.REL,"\u2a77":ke.REL,"\u2a78":ke.REL,"\u2a79":ke.REL,"\u2a7a":ke.REL,"\u2a7b":ke.REL,"\u2a7c":ke.REL,"\u2a7d":ke.REL,"\u2a7d\u0338":ke.REL,"\u2a7e":ke.REL,"\u2a7e\u0338":ke.REL,"\u2a7f":ke.REL,"\u2a80":ke.REL,"\u2a81":ke.REL,"\u2a82":ke.REL,"\u2a83":ke.REL,"\u2a84":ke.REL,"\u2a85":ke.REL,"\u2a86":ke.REL,"\u2a87":ke.REL,"\u2a88":ke.REL,"\u2a89":ke.REL,"\u2a8a":ke.REL,"\u2a8b":ke.REL,"\u2a8c":ke.REL,"\u2a8d":ke.REL,"\u2a8e":ke.REL,"\u2a8f":ke.REL,"\u2a90":ke.REL,"\u2a91":ke.REL,"\u2a92":ke.REL,"\u2a93":ke.REL,"\u2a94":ke.REL,"\u2a95":ke.REL,"\u2a96":ke.REL,"\u2a97":ke.REL,"\u2a98":ke.REL,"\u2a99":ke.REL,"\u2a9a":ke.REL,"\u2a9b":ke.REL,"\u2a9c":ke.REL,"\u2a9d":ke.REL,"\u2a9e":ke.REL,"\u2a9f":ke.REL,"\u2aa0":ke.REL,"\u2aa1":ke.REL,"\u2aa1\u0338":ke.REL,"\u2aa2":ke.REL,"\u2aa2\u0338":ke.REL,"\u2aa3":ke.REL,"\u2aa4":ke.REL,"\u2aa5":ke.REL,"\u2aa6":ke.REL,"\u2aa7":ke.REL,"\u2aa8":ke.REL,"\u2aa9":ke.REL,"\u2aaa":ke.REL,"\u2aab":ke.REL,"\u2aac":ke.REL,"\u2aad":ke.REL,"\u2aae":ke.REL,"\u2aaf":ke.REL,"\u2aaf\u0338":ke.REL,"\u2ab0":ke.REL,"\u2ab0\u0338":ke.REL,"\u2ab1":ke.REL,"\u2ab2":ke.REL,"\u2ab3":ke.REL,"\u2ab4":ke.REL,"\u2ab5":ke.REL,"\u2ab6":ke.REL,"\u2ab7":ke.REL,"\u2ab8":ke.REL,"\u2ab9":ke.REL,"\u2aba":ke.REL,"\u2abb":ke.REL,"\u2abc":ke.REL,"\u2abd":ke.REL,"\u2abe":ke.REL,"\u2abf":ke.REL,"\u2ac0":ke.REL,"\u2ac1":ke.REL,"\u2ac2":ke.REL,"\u2ac3":ke.REL,"\u2ac4":ke.REL,"\u2ac5":ke.REL,"\u2ac6":ke.REL,"\u2ac7":ke.REL,"\u2ac8":ke.REL,"\u2ac9":ke.REL,"\u2aca":ke.REL,"\u2acb":ke.REL,"\u2acc":ke.REL,"\u2acd":ke.REL,"\u2ace":ke.REL,"\u2acf":ke.REL,"\u2ad0":ke.REL,"\u2ad1":ke.REL,"\u2ad2":ke.REL,"\u2ad3":ke.REL,"\u2ad4":ke.REL,"\u2ad5":ke.REL,"\u2ad6":ke.REL,"\u2ad7":ke.REL,"\u2ad8":ke.REL,"\u2ad9":ke.REL,"\u2ada":ke.REL,"\u2adb":ke.REL,"\u2add":ke.REL,"\u2add\u0338":ke.REL,"\u2ade":ke.REL,"\u2adf":ke.REL,"\u2ae0":ke.REL,"\u2ae1":ke.REL,"\u2ae2":ke.REL,"\u2ae3":ke.REL,"\u2ae4":ke.REL,"\u2ae5":ke.REL,"\u2ae6":ke.REL,"\u2ae7":ke.REL,"\u2ae8":ke.REL,"\u2ae9":ke.REL,"\u2aea":ke.REL,"\u2aeb":ke.REL,"\u2aec":ke.REL,"\u2aed":ke.REL,"\u2aee":ke.REL,"\u2aef":ke.REL,"\u2af0":ke.REL,"\u2af1":ke.REL,"\u2af2":ke.REL,"\u2af3":ke.REL,"\u2af4":ke.BIN4,"\u2af5":ke.BIN4,"\u2af6":ke.BIN4,"\u2af7":ke.REL,"\u2af8":ke.REL,"\u2af9":ke.REL,"\u2afa":ke.REL,"\u2afb":ke.BIN4,"\u2afd":ke.BIN4,"\u2afe":ke.BIN3,"\u2b45":ke.RELSTRETCH,"\u2b46":ke.RELSTRETCH,"\u3008":ke.OPEN,"\u3009":ke.CLOSE,"\ufe37":ke.WIDEACCENT,"\ufe38":ke.WIDEACCENT}};function We(t,e){return t.length!==e.length?e.length-t.length:t===e?0:t<e?-1:1}function Fe(t){return t.replace(/([\^$(){}.+*?\-|\[\]\:\\])/g,"\\$1")}function Xe(t){return Array.from(t).map((t=>t.codePointAt(0)))}function qe(t){return String.fromCodePoint(...t)}function Je(t){return!!t.match(/%\s*$/)}function ze(t){return t.trim().split(/\s+/)}function Ge(t){return t.replace(/((?:^|[^\\])(?:\\\\)*)\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})/g,((t,e,s,i)=>e+String.fromCodePoint(parseInt(s||i,16))))}He.infix["^"]=ke.WIDEREL,He.infix._=ke.WIDEREL,He.infix["\u2adc"]=ke.REL;class Ke extends ye{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return null===this._texClass?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t){this._texClass=t}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let t=this,e=this,s=this.factory.getNodeClass("math");for(;e&&e.isEmbellished&&e.coreMO()===this&&!(e instanceof s);)t=e,e=e.parent;return t}coreText(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&1===t.childNodes.length||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let t=!1;const e=this.coreParent().parent;if(e){const s=e.isKind("mover")?e.childNodes[e.over].coreMO()?"accent":"":e.isKind("munder")?e.childNodes[e.under].coreMO()?"accentunder":"":e.isKind("munderover")?this===e.childNodes[e.over].coreMO()?"accent":this===e.childNodes[e.under].coreMO()?"accentunder":"":"";if(s){t=void 0!==e.attributes.getExplicit(s)?t:this.attributes.get("accent")}}return t}setTeXclass(t){let{form:e,fence:s}=this.attributes.getList("form","fence");return void 0===this.getProperty("texClass")&&this.hasSpacingAttributes()?null:(s&&this.texClass===Re.REL&&("prefix"===e&&(this.texClass=Re.OPEN),"postfix"===e&&(this.texClass=Re.CLOSE)),this.adjustTeXclass(t))}adjustTeXclass(t){let e=this.texClass,s=this.prevClass;if(e===Re.NONE)return t;if(t?(!t.getProperty("autoOP")||e!==Re.BIN&&e!==Re.REL||(s=t.texClass=Re.ORD),s=this.prevClass=t.texClass||Re.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):s=this.prevClass=Re.NONE,e!==Re.BIN||s!==Re.NONE&&s!==Re.BIN&&s!==Re.OP&&s!==Re.REL&&s!==Re.OPEN&&s!==Re.PUNCT)if(s!==Re.BIN||e!==Re.REL&&e!==Re.CLOSE&&e!==Re.PUNCT){if(e===Re.BIN){let t=this,e=this.parent;for(;e&&e.parent&&e.isEmbellished&&(1===e.childNodes.length||!e.isKind("mrow")&&e.core()===t);)t=e,e=e.parent;e.childNodes[e.childNodes.length-1]===t&&(this.texClass=Re.ORD)}}else t.texClass=this.prevClass=Re.ORD;else this.texClass=Re.ORD;return this}setInheritedAttributes(t={},e=!1,s=0,i=!1){super.setInheritedAttributes(t,e,s,i);let r=this.getText();this.checkOperatorTable(r),this.checkPseudoScripts(r),this.checkPrimes(r),this.checkMathAccent(r)}getOperatorDef(t){const[e,s,i]=this.handleExplicitForm(this.getForms());this.attributes.setInherited("form",e);const r=this.constructor,n=r.OPTABLE,a=n[e][t]||n[s][t]||n[i][t];if(a)return a;const o=this.attributes.get("movablelimits");if((!!t.match(r.opPattern)||o)&&void 0===this.getProperty("texClass"))return Me(1,2,Re.OP);const l=we(t),[h,c]=r.MMLSPACING[l[2]];return Me(h,c,l[2])}checkOperatorTable(t){const e=this.getOperatorDef(t);void 0===this.getProperty("texClass")&&(this.texClass=e[2]);for(const t of Object.keys(e[3]||{}))this.attributes.setInherited(t,e[3][t]);this.lspace=(e[0]+1)/18,this.rspace=(e[1]+1)/18}getForms(){let t=this,e=this.parent,s=this.Parent;for(;s&&s.isEmbellished;)t=e,e=s.parent,s=s.Parent;if(e&&e.isKind("mrow")&&1!==e.nonSpaceLength()){if(e.firstNonSpace()===t)return["prefix","infix","postfix"];if(e.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(t){if(this.attributes.isSet("form")){const e=this.attributes.get("form");t=[e].concat(t.filter((t=>t!==e)))}return t}checkPseudoScripts(t){const e=this.constructor.pseudoScripts;if(!t.match(e))return;const s=this.coreParent().Parent,i=!s||!(s.isKind("msubsup")&&!s.isKind("msub"));this.setProperty("pseudoscript",i),i&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}checkPrimes(t){const e=this.constructor.primes;if(!t.match(e))return;const s=this.constructor.remapPrimes,i=qe(Xe(t).map((t=>s[t])));this.setProperty("primes",i)}checkMathAccent(t){const e=this.Parent;if(void 0!==this.getProperty("mathaccent")||!e||!e.isKind("munderover"))return;const[s,i,r]=e.childNodes;if(s.isEmbellished&&s.coreMO()===this)return;const n=!(!i||!i.isEmbellished||i.coreMO()!==this),a=!(!r||!r.isEmbellished||i.coreMO()!==this);(n||a)&&(this.isMathAccent(t)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(t)&&this.setProperty("mathaccent",!1))}isMathAccent(t=this.getText()){const e=this.constructor.mathaccents;return!!t.match(e)}isMathAccentWithWidth(t=this.getText()){const e=this.constructor.mathaccentsWithWidth;return!!t.match(e)}}Ke.defaults=Object.assign(Object.assign({},ye.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),Ke.MMLSPACING=je,Ke.OPTABLE=He,Ke.pseudoScripts=new RegExp(["^[\"'*`","\xaa","\xb0","\xb2-\xb4","\xb9","\xba","\u2018-\u201f","\u2032-\u2037\u2057","\u2070\u2071","\u2074-\u207f","\u2080-\u208e","]+$"].join("")),Ke.primes=new RegExp(["^[\"'","\u2018-\u201f","]+$"].join("")),Ke.opPattern=/^[a-zA-Z]{2,}$/,Ke.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},Ke.mathaccents=new RegExp(["^[","\xb4\u0301\u02ca","`\u0300\u02cb","\xa8\u0308","~\u0303\u02dc","\xaf\u0304\u02c9","\u02d8\u0306","\u02c7\u030c","^\u0302\u02c6","\u20d0\u20d1","\u20d6\u20d7\u20e1","\u02d9\u0307","\u02da\u030a","\u20db","\u20dc","]$"].join("")),Ke.mathaccentsWithWidth=new RegExp(["^[","\u2015","\u2190\u2192\u2194","\u23dc\u23dd","\u23de\u23df","]$"].join(""));class $e extends ye{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mtext"}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf($e.NONSPACELIKE)}}$e.NONSPACELIKE=["style","mathbackground","background"],$e.defaults=Object.assign({},ye.defaults);class Ue extends ye{constructor(){super(...arguments),this.texclass=Re.NONE}setTeXclass(t){return t}get kind(){return"mspace"}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit("linebreak")&&this.canBreak}get hasNewline(){const t=this.attributes.get("linebreak");return this.canBreak&&("newline"===t||"indentingnewline"===t)}get canBreak(){return!this.attributes.hasOneOf(Ue.NONSPACELIKE)}}Ue.NONSPACELIKE=["height","depth","style","mathbackground","background"],Ue.defaults=Object.assign(Object.assign({},ye.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class _e extends ye{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"ms"}}_e.defaults=Object.assign(Object.assign({},ye.defaults),{lquote:'"',rquote:'"'});class Ve extends Ie{constructor(){super(...arguments),this._core=null}get kind(){return"mrow"}get isSpacelike(){for(const t of this.childNodes)if(!t.isSpacelike)return!1;return!0}get isEmbellished(){let t=!1,e=0;for(const s of this.childNodes){if(s)if(s.isEmbellished){if(t)return!1;t=!0,this._core=e}else if(!s.isSpacelike)return!1;e++}return t}core(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this}coreMO(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this}nonSpaceLength(){let t=0;for(const e of this.childNodes)e&&!e.isSpacelike&&t++;return t}firstNonSpace(){for(const t of this.childNodes)if(t&&!t.isSpacelike)return t;return null}lastNonSpace(){let t=this.childNodes.length;for(;--t>=0;){let e=this.childNodes[t];if(e&&!e.isSpacelike)return e}return null}setTeXclass(t){if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(t),t=null;for(const e of this.childNodes)t=e.setTeXclass(t);return null==this.texClass&&(this.texClass=Re.INNER),this}for(const e of this.childNodes)t=e.setTeXclass(t);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),t}}Ve.defaults=Object.assign({},Ie.defaults);class Ye extends Ve{get kind(){return"inferredMrow"}get isInferred(){return!0}get notParent(){return!0}toString(){return"["+this.childNodes.join(",")+"]"}}Ye.defaults=Ve.defaults;class Ze extends Oe{get kind(){return"mfrac"}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return""}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}setChildInheritedAttributes(t,e,s,i){(!e||s>0)&&s++;const r=this.attributes.get("numalign"),n=this.attributes.get("denomalign"),a=this.addInheritedAttributes(Object.assign({},t),{numalign:r,indentshift:"0",indentalignfirst:r,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),o=this.addInheritedAttributes(Object.assign({},t),{denalign:n,indentshift:"0",indentalignfirst:n,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"});this.childNodes[0].setInheritedAttributes(a,!1,s,i),this.childNodes[1].setInheritedAttributes(o,!1,s,!0)}}Ze.defaults=Object.assign(Object.assign({},Oe.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1});class Qe extends Ie{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"msqrt"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,i){this.childNodes[0].setInheritedAttributes(t,e,s,!0)}}Qe.defaults=Object.assign(Object.assign({},Ie.defaults),{"data-vertical-align":"bottom"});class ts extends Ie{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mroot"}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,i){this.childNodes[0].setInheritedAttributes(t,e,s,!0),this.childNodes[1].setInheritedAttributes(t,!1,s+2,i)}}ts.defaults=Object.assign(Object.assign({},Ie.defaults),{"data-vertical-align":"bottom"});class es extends Te{get kind(){return"mstyle"}get notParent(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length}setChildInheritedAttributes(t,e,s,i){let r=this.attributes.getExplicit("scriptlevel");null!=r&&(r=r.toString(),r.match(/^\s*[-+]/)?s+=parseInt(r):s=parseInt(r),i=!1);let n=this.attributes.getExplicit("displaystyle");null!=n&&(e=!0===n,i=!1);const a=this.attributes.getExplicit("data-cramped");null!=a&&(i=a),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t,e,s,i)}}es.defaults=Object.assign(Object.assign({},Te.defaults),{scriptlevel:pe,displaystyle:pe,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",mathbackground:pe,mathcolor:pe,dir:pe,infixlinebreakstyle:"before"});class ss extends Ie{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"merror"}get arity(){return-1}get linebreakContainer(){return!0}}ss.defaults=Object.assign({},Ie.defaults);class is extends Te{get kind(){return"mpadded"}get linebreakContainer(){return!0}setTeXclass(t){return this.getProperty("vbox")?(this.getPrevClass(t),this.texClass=Re.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(t)}}is.defaults=Object.assign(Object.assign({},Te.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0});class rs extends Te{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mphantom"}}rs.defaults=Object.assign({},Te.defaults);class ns extends Ie{constructor(){super(...arguments),this.texclass=Re.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return"mfenced"}setTeXclass(t){this.getPrevClass(t),this.open&&(t=this.open.setTeXclass(t)),this.childNodes[0]&&(t=this.childNodes[0].setTeXclass(t));for(let e=1,s=this.childNodes.length;e<s;e++)this.separators[e-1]&&(t=this.separators[e-1].setTeXclass(t)),this.childNodes[e]&&(t=this.childNodes[e].setTeXclass(t));return this.close&&(t=this.close.setTeXclass(t)),this.updateTeXclass(this.open),t}setChildInheritedAttributes(t,e,s,i){this.addFakeNodes();for(const r of[this.open,this.close].concat(this.separators))r&&r.setInheritedAttributes(t,e,s,i);super.setChildInheritedAttributes(t,e,s,i)}addFakeNodes(){let{open:t,close:e,separators:s}=this.attributes.getList("open","close","separators");if(t=t.replace(/[ \t\n\r]/g,""),e=e.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),t&&(this.open=this.fakeNode(t,{fence:!0,form:"prefix"},Re.OPEN)),s){for(;s.length<this.childNodes.length-1;)s+=s.charAt(s.length-1);let t=0;for(const e of this.childNodes.slice(1))e&&this.separators.push(this.fakeNode(s.charAt(t++)))}e&&(this.close=this.fakeNode(e,{fence:!0,form:"postfix"},Re.CLOSE))}fakeNode(t,e={},s=null){let i=this.factory.create("text").setText(t),r=this.factory.create("mo",e,[i]);return r.texClass=s,r.parent=this,r}}ns.defaults=Object.assign(Object.assign({},Ie.defaults),{open:"(",close:")",separators:","});class as extends Ie{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"menclose"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}as.defaults=Object.assign(Object.assign({},Ie.defaults),{notation:"longdiv"});class os extends Ie{get kind(){return"maction"}get arity(){return 1}get selected(){const t=this.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.factory.create("mrow")}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(t){super.verifyAttributes(t),"toggle"!==this.attributes.get("actiontype")&&this.attributes.hasExplicit("selection")&&this.attributes.unset("selection")}setTeXclass(t){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);let e=this.selected;return t=e.setTeXclass(t),this.updateTeXclass(e),t}nextToggleSelection(){let t=Math.max(1,parseInt(this.attributes.get("selection"))+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)}setChildInheritedAttributes(t,e,s,i){var r,n;"tooltip"===this.attributes.get("actiontype").toLowerCase()?(null===(r=this.childNodes[0])||void 0===r||r.setInheritedAttributes(t,e,s,i),null===(n=this.childNodes[1])||void 0===n||n.setInheritedAttributes(t,!1,1,!1)):super.setChildInheritedAttributes(t,e,s,i)}}os.defaults=Object.assign(Object.assign({},Ie.defaults),{actiontype:"toggle",selection:1});class ls extends Oe{get kind(){return"msubsup"}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(t,e,s,i){let r=this.childNodes;r[0].setInheritedAttributes(t,e,s,i),r[1].setInheritedAttributes(t,!1,s+1,i||1===this.sub),r[2]&&r[2].setInheritedAttributes(t,!1,s+1,i||2===this.sub)}}ls.defaults=Object.assign(Object.assign({},Oe.defaults),{subscriptshift:"",superscriptshift:""});class hs extends ls{get kind(){return"msub"}get arity(){return 2}}hs.defaults=Object.assign({},ls.defaults);class cs extends ls{get kind(){return"msup"}get arity(){return 2}get sup(){return 1}get sub(){return 2}}cs.defaults=Object.assign({},ls.defaults);class ds extends Oe{get kind(){return"munderover"}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(t,e,s,i){let r=this.childNodes;r[0].setInheritedAttributes(t,e,s,i||!!r[this.over]);let n=!(e||!r[0].coreMO().attributes.get("movablelimits")),a=this.constructor.ACCENTS;r[1].setInheritedAttributes(t,!1,this.getScriptlevel(a[1],n,s),i||1===this.under),this.setInheritedAccent(1,a[1],e,s,i,n),r[2]&&(r[2].setInheritedAttributes(t,!1,this.getScriptlevel(a[2],n,s),i||2===this.under),this.setInheritedAccent(2,a[2],e,s,i,n))}getScriptlevel(t,e,s){return!e&&this.attributes.get(t)||s++,s}setInheritedAccent(t,e,s,i,r,n){let a=this.childNodes[t];if(!this.attributes.hasExplicit(e)&&a.isEmbellished){let t=a.coreMO().attributes.get("accent");this.attributes.setInherited(e,t),t!==this.attributes.getDefault(e)&&a.setInheritedAttributes({},s,this.getScriptlevel(e,n,i),r)}}}ds.defaults=Object.assign(Object.assign({},Oe.defaults),{accent:!1,accentunder:!1,align:"center"}),ds.ACCENTS=["","accentunder","accent"];class us extends ds{get kind(){return"munder"}get arity(){return 2}}us.defaults=Object.assign({},ds.defaults);class ps extends ds{get kind(){return"mover"}get arity(){return 2}get over(){return 1}get under(){return 2}}ps.defaults=Object.assign({},ds.defaults),ps.ACCENTS=["","accent","accentunder"];class Es extends ls{get kind(){return"mmultiscripts"}get arity(){return 1}setChildInheritedAttributes(t,e,s,i){this.childNodes[0].setInheritedAttributes(t,e,s,i);let r=!1;for(let e=1,n=0;e<this.childNodes.length;e++){let a=this.childNodes[e];if(a.isKind("mprescripts")){if(!r&&(r=!0,e%2==0)){let t=this.factory.create("none");this.childNodes.splice(e,0,t),t.parent=this,e++}}else{let e=i||n%2==0;a.setInheritedAttributes(t,!1,s+1,e),n++}}this.childNodes.length%2==(r?1:0)&&(this.appendChild(this.factory.create("none")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t,!1,s+1,i))}verifyChildren(t){let e=!1,s=t.fixMmultiscripts;for(let i=0;i<this.childNodes.length;i++){let r=this.childNodes[i];r.isKind("mprescripts")&&(e?r.mError(r.kind+" can only appear once in "+this.kind,t,!0):(e=!0,i%2!=0||s||this.mError("There must be an equal number of prescripts of each type",t)))}this.childNodes.length%2!=(e?1:0)||s||this.mError("There must be an equal number of scripts of each type",t),super.verifyChildren(t)}}Es.defaults=Object.assign({},ls.defaults);class ms extends Ie{get kind(){return"mprescripts"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}ms.defaults=Object.assign({},Ie.defaults);class gs extends Ie{get kind(){return"none"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}gs.defaults=Object.assign({},Ie.defaults);class Rs extends Ie{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=Re.ORD}get kind(){return"mtable"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setInheritedAttributes(t,e,s,i){for(const e of Ce)t[e]&&this.attributes.setInherited(e,t[e][1]),this.attributes.hasExplicit(e)&&this.attributes.unset(e);super.setInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){for(const t of this.childNodes)t.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),t).appendChild(t);s=this.getProperty("scriptlevel")||s,e=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center","data-break-align":this.attributes.get("data-break-align")});const r=this.attributes.getExplicit("data-cramped"),n=ze(this.attributes.get("rowalign"));for(const i of this.childNodes)t.rowalign[1]=n.shift()||t.rowalign[1],i.setInheritedAttributes(t,e,s,!!r)}verifyChildren(t){let e=null;const s=this.factory;for(let i=0;i<this.childNodes.length;i++){const r=this.childNodes[i];if(r.isKind("mtr"))e=null;else{const n=r.isKind("mtd");if(e?(this.removeChild(r),i--):e=this.replaceChild(s.create("mtr"),r),e.appendChild(n?r:s.create("mtd",{},[r])),!t.fixMtables){r.parent.removeChild(r),r.parent=this,n&&e.appendChild(s.create("mtd"));const i=r.mError("Children of "+this.kind+" must be mtr or mlabeledtr",t,n);e.childNodes[e.childNodes.length-1].appendChild(i)}}}super.verifyChildren(t)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}Rs.defaults=Object.assign(Object.assign({},Ie.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em","data-break-align":"top"});class fs extends Ie{get kind(){return"mtr"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,i){for(const t of this.childNodes)t.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),t).appendChild(t);const r=ze(this.attributes.get("columnalign")),n=ze(this.attributes.get("data-break-align"));1===this.arity&&(r.unshift(this.parent.attributes.get("side")),n.unshift("top")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center","data-break-align":"top"});for(const a of this.childNodes)t.columnalign[1]=r.shift()||t.columnalign[1],t["data-vertical-align"]=[this.kind,n.shift()||t["data-break-align"][1]],a.setInheritedAttributes(t,e,s,i)}verifyChildren(t){if(!this.parent||this.parent.isKind("mtable")){for(const e of this.childNodes)if(!e.isKind("mtd")){this.replaceChild(this.factory.create("mtd"),e).appendChild(e),t.fixMtables||e.mError("Children of "+this.kind+" must be mtd",t)}super.verifyChildren(t)}else this.mError(this.kind+" can only be a child of an mtable",t,!0)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}fs.defaults=Object.assign(Object.assign({},Ie.defaults),{rowalign:pe,columnalign:pe,groupalign:pe,"data-break-align":"top"});class Ns extends fs{get kind(){return"mlabeledtr"}get arity(){return 1}}class Ls extends Oe{get kind(){return"mtd"}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return"columnalign"}verifyChildren(t){!this.parent||this.parent.isKind("mtr")?super.verifyChildren(t):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",t,!0)}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}}Ls.defaults=Object.assign(Object.assign({},Oe.defaults),{rowspan:1,columnspan:1,rowalign:pe,columnalign:pe,groupalign:pe,"data-vertical-align":"top"});class bs extends Te{get kind(){return"maligngroup"}get isSpacelike(){return!0}setChildInheritedAttributes(t,e,s,i){t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(t,e,s,i)}}bs.defaults=Object.assign(Object.assign({},Te.defaults),{groupalign:pe});class Cs extends Ie{get kind(){return"malignmark"}get arity(){return 0}get isSpacelike(){return!0}}Cs.defaults=Object.assign(Object.assign({},Ie.defaults),{edge:"left"});class Is extends ye{constructor(){super(...arguments),this.texclass=Re.ORD}get kind(){return"mglyph"}verifyAttributes(t){const{src:e,fontfamily:s,index:i}=this.attributes.getList("src","fontfamily","index");""!==e||""!==s&&""!==i?super.verifyAttributes(t):this.mError("mglyph must have either src or fontfamily and index attributes",t,!0)}}Is.defaults=Object.assign(Object.assign({},ye.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"});class ys extends Oe{get kind(){return"semantics"}get arity(){return 1}get notParent(){return!0}}ys.defaults=Object.assign(Object.assign({},Oe.defaults),{definitionUrl:null,encoding:null});class Ts extends Ie{get kind(){return"annotation-xml"}setChildInheritedAttributes(){}}Ts.defaults=Object.assign(Object.assign({},Ie.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null});class Os extends Ts{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return"annotation"}}Os.defaults=Object.assign({},Ts.defaults);class xs extends Oe{get kind(){return"TeXAtom"}get arity(){return-1}get notParent(){return!0}constructor(t,e,s){super(t,e,s),this.texclass=Re.ORD,this.setProperty("texClass",this.texClass)}setTeXclass(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)}adjustTeXclass(t){return t}}xs.defaults=Object.assign({},Oe.defaults),xs.prototype.adjustTeXclass=Ke.prototype.adjustTeXclass;class As extends Oe{get kind(){return"MathChoice"}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(t,e,s,i){const r=e?0:Math.max(0,Math.min(s,2))+1,n=this.childNodes[r]||this.factory.create("mrow");this.parent.replaceChild(n,this),n.setInheritedAttributes(t,e,s,i)}}As.defaults=Object.assign({},Oe.defaults);class vs extends ve{get kind(){return"html"}getHTML(){return this.getXML()}setHTML(t,e=null){try{e.getAttribute(t,"data-mjx-hdw")}catch(s){t=e.node("span",{},[t])}return this.setXML(t,e)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){const t=this.adaptor.kind(this.xml);return`HTML=<${t}>...</${t}>`}verifyTree(t){!this.parent||this.parent.isToken||this.mError("HTML can only be a child of a token element",t,!0)}}let Ds={[De.prototype.kind]:De,[Se.prototype.kind]:Se,[Be.prototype.kind]:Be,[Ke.prototype.kind]:Ke,[$e.prototype.kind]:$e,[Ue.prototype.kind]:Ue,[_e.prototype.kind]:_e,[Ve.prototype.kind]:Ve,[Ye.prototype.kind]:Ye,[Ze.prototype.kind]:Ze,[Qe.prototype.kind]:Qe,[ts.prototype.kind]:ts,[es.prototype.kind]:es,[ss.prototype.kind]:ss,[is.prototype.kind]:is,[rs.prototype.kind]:rs,[ns.prototype.kind]:ns,[as.prototype.kind]:as,[os.prototype.kind]:os,[hs.prototype.kind]:hs,[cs.prototype.kind]:cs,[ls.prototype.kind]:ls,[us.prototype.kind]:us,[ps.prototype.kind]:ps,[ds.prototype.kind]:ds,[Es.prototype.kind]:Es,[ms.prototype.kind]:ms,[gs.prototype.kind]:gs,[Rs.prototype.kind]:Rs,[Ns.prototype.kind]:Ns,[fs.prototype.kind]:fs,[Ls.prototype.kind]:Ls,[bs.prototype.kind]:bs,[Cs.prototype.kind]:Cs,[Is.prototype.kind]:Is,[ys.prototype.kind]:ys,[Os.prototype.kind]:Os,[Ts.prototype.kind]:Ts,[xs.prototype.kind]:xs,[As.prototype.kind]:As,[Ae.prototype.kind]:Ae,[ve.prototype.kind]:ve,[vs.prototype.kind]:vs};class Ss extends ue{get MML(){return this.node}}Ss.defaultNodes=Ds;class Bs{constructor(){this.bits=0}static allocate(...t){for(const e of t){if(this.has(e))throw new Error("Bit already allocated for "+e);if(this.next===Bs.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(e,this.next),this.next<<=1}}static has(t){return this.names.has(t)}set(t){this.bits|=this.getBit(t)}clear(t){this.bits&=~this.getBit(t)}isSet(t){return!!(this.bits&this.getBit(t))}reset(){this.bits=0}getBit(t){const e=this.constructor.names.get(t);if(!e)throw new Error("Unknown bit-field name: "+t);return e}}function Ms(...t){const e=class extends Bs{};return e.allocate(...t),e}Bs.MAXBIT=1<<31,Bs.next=1,Bs.names=new Map;class ks extends Qt{static create(t){const e=new this;for(const s of Object.keys(t)){const[i,r]=this.action(s,t[s]);r&&e.add(i,r)}return e}static action(t,e){let s,i,r=!0,n=e[0];if(1===e.length||"boolean"==typeof e[1])2===e.length&&(r=e[1]),[s,i]=this.methodActions(t);else if("string"==typeof e[1])if("string"==typeof e[2]){4===e.length&&(r=e[3]);const[t,n]=e.slice(1);[s,i]=this.methodActions(t,n)}else 3===e.length&&(r=e[2]),[s,i]=this.methodActions(e[1]);else 4===e.length&&(r=e[3]),[s,i]=e.slice(1);return[{id:t,renderDoc:s,renderMath:i,convert:r},n]}static methodActions(t,e=t){return[e=>(t&&e[t](),!1),(t,s)=>(e&&t[e](s),!1)]}renderDoc(t,e=he.UNPROCESSED){for(const s of this.items)if(s.priority>=e&&s.item.renderDoc(t))return}renderMath(t,e,s=he.UNPROCESSED){for(const i of this.items)if(i.priority>=s&&i.item.renderMath(t,e))return}renderConvert(t,e,s=he.LAST){for(const i of this.items){if(i.priority>s)return;if(i.item.convert&&i.item.renderMath(t,e))return}}findID(t){for(const e of this.items)if(e.item.id===t)return e.item;return null}}const Ps={all:!1,processed:!1,inputJax:null,outputJax:null},ws={all:!0,processed:!0,inputJax:[],outputJax:[]};class js extends ee{compile(t){return null}}class Hs extends se{typeset(t,e=null){return null}escaped(t,e){return null}}class Ws extends ae{}class Fs{constructor(t,e,s){let i=this.constructor;this.document=t,this.options=$t(Kt({},i.OPTIONS),s),this.math=new(this.options.MathList||Ws),this.renderActions=ks.create(this.options.renderActions),this.renderPromises=[],this.processed=new Fs.ProcessBits,this.outputJax=this.options.OutputJax||new Hs;let r=this.options.InputJax||[new js];Array.isArray(r)||(r=[r]),this.inputJax=r,this.adaptor=e,this.outputJax.setAdaptor(e),this.inputJax.map((t=>t.setAdaptor(e))),this.mmlFactory=this.options.MmlFactory||new Ss,this.inputJax.map((t=>t.setMmlFactory(this.mmlFactory))),this.outputJax.initialize(),this.inputJax.map((t=>t.initialize()))}get kind(){return this.constructor.KIND}addRenderAction(t,...e){const[s,i]=ks.action(t,e);this.renderActions.add(s,i)}removeRenderAction(t){const e=this.renderActions.findID(t);e&&this.renderActions.remove(e)}render(){return this.renderPromises=[],this.renderActions.renderDoc(this),this}rerender(t=he.RERENDER){return this.state(t-1),this.render(),this}convert(t,e={}){let{format:s,display:i,end:r,ex:n,em:a,containerWidth:o,scale:l,family:h}=$t({format:this.inputJax[0].name,display:!0,end:he.LAST,em:16,ex:8,containerWidth:null,scale:1,family:""},e);null===o&&(o=80*n);const c=this.inputJax.reduce(((t,e)=>e.name===s?e:t),null),d=new this.options.MathItem(t,c,i);return d.start.node=this.adaptor.body(this.document),d.setMetrics(a,n,o,l),this.outputJax.options.mtextInheritFont&&(d.outputData.mtextFamily=h),this.outputJax.options.merrorInheritFont&&(d.outputData.merrorFamily=h),d.convert(this,r),d.typesetRoot||d.root}findMath(t=null){return this.processed.set("findMath"),this}compile(){if(!this.processed.isSet("compile")){const t=[];for(const e of this.math)this.compileMath(e),void 0!==e.inputData.recompile&&t.push(e);for(const e of t){const t=e.inputData.recompile;e.state(t.state),e.inputData.recompile=t,this.compileMath(e)}this.processed.set("compile")}return this}compileMath(t){try{t.compile(this)}catch(e){if(e.retry||e.restart)throw e;this.options.compileError(this,t,e),t.inputData.error=e}}compileError(t,e){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":e.message,title:e.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=e.message}typeset(){if(!this.processed.isSet("typeset")){for(const t of this.math)try{t.typeset(this)}catch(e){if(e.retry||e.restart)throw e;this.options.typesetError(this,t,e),t.outputData.error=e}this.processed.set("typeset")}return this}typesetError(t,e){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":e.message,title:e.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=e.message}getMetrics(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this}updateDocument(){if(!this.processed.isSet("updateDocument")){for(const t of this.math.reversed())t.updateDocument(this);this.processed.set("updateDocument")}return this}removeFromDocument(t=!1){return this}state(t,e=!1){for(const s of this.math)s.state(t,e);return t<he.INSERTED&&this.processed.clear("updateDocument"),t<he.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<he.COMPILED&&this.processed.clear("compile"),t<he.FINDMATH&&this.processed.clear("findMath"),this}reset(t={processed:!0}){return(t=$t(Object.assign({},Ps),t)).all&&Object.assign(t,ws),t.processed&&this.processed.reset(),t.inputJax&&this.inputJax.forEach((e=>e.reset(...t.inputJax))),t.outputJax&&this.outputJax.reset(...t.outputJax),this}clear(){return this.reset(),this.math.clear(),this}concat(t){return this.math.merge(t),this}clearMathItemsWithin(t){const e=this.getMathItemsWithin(t);return this.math.remove(...e),e}getMathItemsWithin(t){Array.isArray(t)||(t=[t]);const e=this.adaptor,s=[],i=e.getElements(t,this.document);t:for(const t of this.math)for(const r of i)if(t.start.node&&e.contains(r,t.start.node)){s.push(t);continue t}return s}}Fs.KIND="MathDocument",Fs.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:Ws,MathItem:class extends le{},compileError:(t,e,s)=>{t.compileError(e,s)},typesetError:(t,e,s)=>{t.typesetError(e,s)},renderActions:Xt({find:[he.FINDMATH,"findMath","",!1],compile:[he.COMPILED],metrics:[he.METRICS,"getMetrics","",!1],typeset:[he.TYPESET],update:[he.INSERTED,"updateDocument",!1]})},Fs.ProcessBits=Ms("findMath","compile","getMetrics","typeset","updateDocument");class Xs extends Fs{}class qs{constructor(t,e=5){this.documentClass=Xs,this.adaptor=t,this.priority=e}get name(){return this.constructor.NAME}handlesDocument(t){return!1}create(t,e){return new this.documentClass(t,this.adaptor,e)}}qs.NAME="generic";class Js extends Qt{register(t){return this.add(t,t.priority)}unregister(t){this.remove(t)}handlesDocument(t){for(const e of this){let s=e.item;if(s.handlesDocument(t))return s}throw new Error("Can't find handler for document")}document(t,e=null){return this.handlesDocument(t).create(t,e)}}class zs{static methodName(t){return"visit"+(t.charAt(0).toUpperCase()+t.substring(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"}constructor(t){this.nodeHandlers=new Map;for(const e of t.getKinds()){let t=this[zs.methodName(e)];t&&this.nodeHandlers.set(e,t)}}visitTree(t,...e){return this.visitNode(t,...e)}visitNode(t,...e){return(this.nodeHandlers.get(t.kind)||this.visitDefault).call(this,t,...e)}visitDefault(t,...e){if("childNodes"in t)for(const s of t.childNodes)this.visitNode(s,...e)}setNodeHandler(t,e){this.nodeHandlers.set(t,e)}removeNodeHandler(t){this.nodeHandlers.delete(t)}}const Gs="data-mjx-";class Ks extends zs{constructor(t=null){t||(t=new Ss),super(t)}visitTextNode(t,...e){}visitXMLNode(t,...e){}visitHtmlNode(t,...e){}getKind(t){const e=t.kind;return Yt(e,this.constructor.rename,e)}getAttributeList(t){const e=this.constructor,s=Yt(t.kind,e.defaultAttributes,{}),i=Object.assign({},s,this.getDataAttributes(t),t.attributes.getAllAttributes()),r=e.variants;return i.hasOwnProperty("mathvariant")&&(r.hasOwnProperty(i.mathvariant)?i.mathvariant=r[i.mathvariant]:t.getProperty("ignore-variant")&&delete i.mathvariant),i}getDataAttributes(t){const e={},s=t.attributes.getExplicit("mathvariant"),i=this.constructor.variants;s&&(t.getProperty("ignore-variant")||i.hasOwnProperty(s))&&this.setDataAttribute(e,"variant",s),t.getProperty("variantForm")&&this.setDataAttribute(e,"alternate","1"),t.getProperty("pseudoscript")&&this.setDataAttribute(e,"pseudoscript","true"),!1===t.getProperty("autoOP")&&this.setDataAttribute(e,"auto-op","false");const r=t.getProperty("vbox");r&&this.setDataAttribute(e,"vbox",r);const n=t.getProperty("scriptalign");n&&this.setDataAttribute(e,"script-align",n);const a=t.getProperty("mathaccent");void 0!==a&&(a&&!t.isMathAccent()||!a&&!t.isMathAccentWithWidth())&&this.setDataAttribute(e,"mathaccent",a.toString());const o=t.getProperty("texClass");if(void 0!==o){let s=!0;if(o===Re.OP&&t.isKind("mi")){const e=t.getText();s=!(e.length>1&&e.match(Se.operatorName))}s&&this.setDataAttribute(e,"texclass",o<0?"NONE":fe[o])}return t.getProperty("scriptlevel")&&!1===t.getProperty("useHeight")&&this.setDataAttribute(e,"smallmatrix","true"),e}setDataAttribute(t,e,s){t[Gs+e]=s}}Ks.rename={TeXAtom:"mrow"},Ks.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},Ks.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}};class $s extends Ks{constructor(){super(...arguments),this.document=null}visitTree(t,e){this.document=e;let s=e.createElement("top");return this.visitNode(t,s),this.document=null,s.firstChild}visitTextNode(t,e){e.appendChild(this.document.createTextNode(t.getText()))}visitXMLNode(t,e){e.appendChild(t.getXML().cloneNode(!0))}visitHtmlNode(t,e){e.appendChild(t.getHTML().cloneNode(!0))}visitInferredMrowNode(t,e){for(const s of t.childNodes)this.visitNode(s,e)}visitDefault(t,e){let s=this.document.createElement(this.getKind(t));this.addAttributes(t,s);for(const e of t.childNodes)this.visitNode(e,s);e.appendChild(s)}addAttributes(t,e){let s=this.getAttributeList(t);for(const t of Object.keys(s))e.setAttribute(t,s[t].toString())}}const Us=t=>"&#x"+t.codePointAt(0).toString(16).toUpperCase()+";";class _s extends Ks{visitTree(t){return this.visitNode(t,"")}visitTextNode(t,e){return this.quoteHTML(t.getText())}visitXMLNode(t,e){return e+t.getSerializedXML()}visitHtmlNode(t,e){return t.getSerializedHTML()}visitInferredMrowNode(t,e){let s=[];for(const i of t.childNodes)s.push(this.visitNode(i,e));return s.join("\n")}visitAnnotationNode(t,e){return e+"<annotation"+this.getAttributes(t)+">"+this.childNodeMml(t,"","")+"</annotation>"}visitDefault(t,e){let s=this.getKind(t),[i,r]=t.isToken||0===t.childNodes.length?["",""]:["\n",e];const n=this.childNodeMml(t,e+"  ",i);return e+"<"+s+this.getAttributes(t)+">"+(n.match(/\S/)?i+n+r:"")+"</"+s+">"}childNodeMml(t,e,s){let i="";for(const r of t.childNodes)i+=this.visitNode(r,e)+s;return i}getAttributes(t){const e=[],s=this.getAttributeList(t);for(const t of Object.keys(s)){const i=String(s[t]);void 0!==i&&e.push(t+'="'+this.quoteHTML(i)+'"')}return e.length?" "+e.join(" "):""}quoteHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,Us).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,Us)}}class Vs{get kind(){return this.node.kind}constructor(t,e){this.factory=t,this.node=e}wrap(t){return this.factory.wrap(t)}walkTree(t,e){if(t(this,e),"childNodes"in this)for(const s of this.childNodes)s&&s.walkTree(t,e);return e}}class Ys extends de{wrap(t,...e){return this.create(t.kind,t,...e)}}function Zs(t){return new Promise((function e(s,i){try{s(t())}catch(t){t.retry&&t.retry instanceof Promise?t.retry.then((()=>e(s,i))).catch((t=>i(t))):t.restart&&t.restart.isCallback?MathJax.Callback.After((()=>e(s,i)),t.restart):i(t)}}))}function Qs(t){let e=new Error("MathJax retry");throw e.retry=t,e}const ti={version:Tt,handlers:new Js,document:function(t,e){return ti.handlers.document(t,e)},handleRetriesFor:Zs,retryAfter:Qs,asyncLoad:null,asyncIsSynchronous:!1};class ei extends le{get adaptor(){return this.inputJax.adaptor}constructor(t,e,s=!0,i={node:null,n:0,delim:""},r={node:null,n:0,delim:""}){super(t,e,s,i,r)}updateDocument(t){if(this.state()<he.INSERTED){if(this.inputJax.processStrings){let t=this.start.node;if(t===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(t=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,t);else{for(this.start.n&&(t=this.adaptor.split(t,this.start.n));t!==this.end.node;){let e=this.adaptor.next(t);this.adaptor.remove(t),t=e}this.adaptor.insert(this.typesetRoot,t),this.end.n<this.adaptor.value(t).length&&this.adaptor.split(t,this.end.n),this.adaptor.remove(t)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(he.INSERTED)}}updateStyleSheet(t){t.addStyleSheet()}removeFromDocument(t=!1){if(this.state()>=he.TYPESET){const e=this.adaptor;let s=this.start.node,i=e.text("");if(t){let t=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)i=e.text(t);else{const s=e.parse(t,"text/html");i=e.firstChild(e.body(s))}}e.parent(s)&&e.replace(i,s),this.start.node=this.end.node=i,this.start.n=this.end.n=0}}}class si extends ae{}class ii{constructor(t=null){let e=this.constructor;this.options=$t(Kt({},e.OPTIONS),t),this.init(),this.getPatterns()}init(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){let t=qt(this.options.skipHtmlTags),e=qt(this.options.ignoreHtmlClass),s=qt(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+t.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+e.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+s+")(?: |$)")}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]}extendString(t,e){this.snodes.push([t,e.length]),this.string+=e}handleText(t,e){return e||this.extendString(t,this.adaptor.value(t)),this.adaptor.next(t)}handleTag(t,e){if(!e){let e=this.options.includeHtmlTags[this.adaptor.kind(t)];e instanceof Function?this.extendString(t,e(t,this.adaptor)):this.extendString(t,e)}return this.adaptor.next(t)}handleContainer(t,e){this.pushString();const s=this.adaptor.getAttribute(t,"class")||"",i=this.adaptor.kind(t)||"",r=this.processHtmlClass.exec(s);let n=t;return!this.adaptor.firstChild(t)||this.adaptor.getAttribute(t,"data-MJX")||!r&&this.skipHtmlTags.exec(i)?n=this.adaptor.next(t):(this.adaptor.next(t)&&this.stack.push([this.adaptor.next(t),e]),n=this.adaptor.firstChild(t),e=(e||this.ignoreHtmlClass.exec(s))&&!r),[n,e]}handleOther(t,e){return this.pushString(),this.adaptor.next(t)}find(t){this.init();let e=this.adaptor.next(t),s=!1,i=this.options.includeHtmlTags;for(;t&&t!==e;){const e=this.adaptor.kind(t);"#text"===e?t=this.handleText(t,s):i.hasOwnProperty(e)?t=this.handleTag(t,s):e?[t,s]=this.handleContainer(t,s):t=this.handleOther(t,s),!t&&this.stack.length&&(this.pushString(),[t,s]=this.stack.pop())}this.pushString();let r=[this.strings,this.nodes];return this.init(),r}}ii.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml","select","option","mjx-container"],includeHtmlTags:Xt({br:"\n",wbr:"","#comment":""}),ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"};class ri extends Fs{constructor(t,e,s){let[i,r]=Vt(s,ii.OPTIONS);super(t,e,i),this.domStrings=this.options.DomStrings||new ii(r),this.domStrings.adaptor=e,this.styles=[]}findPosition(t,e,s,i){const r=this.adaptor;for(const n of i[t]){let[t,i]=n;if(e<=i&&"#text"===r.kind(t))return{node:t,n:Math.max(e,0),delim:s};e-=i}return{node:null,n:0,delim:s}}mathItem(t,e,s){let i=t.math,r=this.findPosition(t.n,t.start.n,t.open,s),n=this.findPosition(t.n,t.end.n,t.close,s);return new this.options.MathItem(i,e,t.display,r,n)}findMath(t){if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,t=$t({elements:this.options.elements||[this.adaptor.body(this.document)]},t);const e=this.adaptor.getElements(t.elements,this.document);for(const t of this.inputJax){const s=t.processStrings?this.findMathFromStrings(t,e):this.findMathFromDOM(t,e);this.math.merge(s)}this.processed.set("findMath")}return this}findMathFromStrings(t,e){const s=[],i=[];for(const t of e){const[e,r]=this.domStrings.find(t);s.push(...e),i.push(...r)}const r=new this.options.MathList;for(const e of t.findMath(s))r.push(this.mathItem(e,t,i));return r}findMathFromDOM(t,e){const s=[];for(const i of e)for(const e of t.findMath(i))s.push(new this.options.MathItem(e.math,t,e.display,e.start,e.end));return new this.options.MathList(...s)}updateDocument(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set("updateDocument")),this}addPageElements(){const t=this.adaptor.body(this.document),e=this.documentPageElements();e&&this.adaptor.append(t,e)}addStyleSheet(){const t=this.documentStyleSheet(),e=this.adaptor;if(t&&!e.parent(t)){const s=e.head(this.document);let i=this.findSheet(s,e.getAttribute(t,"id"));i?e.replace(t,i):e.append(s,t)}}findSheet(t,e){if(e)for(const s of this.adaptor.tags(t,"style"))if(this.adaptor.getAttribute(s,"id")===e)return s;return null}removeFromDocument(t=!1){if(this.processed.isSet("updateDocument"))for(const e of this.math)e.state()>=he.INSERTED&&e.state(he.TYPESET,t);return this.processed.clear("updateDocument"),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(t){this.styles.push(t)}getStyles(){return this.styles}}ri.KIND="HTML",ri.OPTIONS=Object.assign(Object.assign({},Fs.OPTIONS),{renderActions:Xt(Object.assign(Object.assign({},Fs.OPTIONS.renderActions),{styles:[he.INSERTED+1,"","updateStyleSheet",!1]})),MathList:si,MathItem:ei,DomStrings:null});class ni extends qs{constructor(){super(...arguments),this.documentClass=ri}handlesDocument(t){const e=this.adaptor;if("string"==typeof t)try{t=e.parse(t,"text/html")}catch(t){}return t instanceof e.window.Document||t instanceof e.window.HTMLElement||t instanceof e.window.DocumentFragment}create(t,e){const s=this.adaptor;if("string"==typeof t)t=s.parse(t,"text/html");else if(t instanceof s.window.HTMLElement||t instanceof s.window.DocumentFragment){let e=t;t=s.parse("","text/html"),s.append(s.body(t),e)}return super.create(t,e)}}function ai(t){const e=new ni(t);return ti.handlers.register(e),e}function oi(t){return ti.asyncLoad?new Promise(((e,s)=>{const i=ti.asyncLoad(t);i instanceof Promise?i.then((t=>e(t))).catch((t=>s(t))):e(i)})):Promise.reject(`Can't load '${t}': No mathjax.asyncLoad method specified`)}const li=1e6,hi={px:1,in:96,cm:96/2.54,mm:96/25.4},ci={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},di={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:li};function ui(t,e=0,s=1,i=16){if("string"!=typeof t&&(t=String(t)),""===t||null==t)return e;if(di[t])return di[t];let r=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!r||""===r[0])return e;let n=parseFloat(r[1]||"1"),a=r[2];return hi.hasOwnProperty(a)?n*hi[a]/i/s:ci.hasOwnProperty(a)?n*ci[a]:"%"===a?n/100*e:n*e}function pi(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"}function Ei(t){return Math.abs(t)<.001?"0":t.toFixed(3).replace(/\.?0+$/,"")+"em"}function mi(t,e=-li,s=16){return t*=s,e&&t<e&&(t=e),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"}class gi{static zero(){return new gi({h:0,d:0,w:0})}static empty(){return new gi}constructor(t={w:0,h:-li,d:-li}){this.w=t.w||0,this.h="h"in t?t.h:-li,this.d="d"in t?t.d:-li,this.L=this.R=this.ic=this.oc=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}empty(){return this.w=0,this.h=this.d=-li,this}clean(){this.w===-li&&(this.w=0),this.h===-li&&(this.h=0),this.d===-li&&(this.d=0)}rescale(t){this.w*=t,this.h*=t,this.d*=t}combine(t,e=0,s=0){let i=t.rscale,r=e+i*(t.w+t.L+t.R),n=s+i*t.h,a=i*t.d-s;r>this.w&&(this.w=r),n>this.h&&(this.h=n),a>this.d&&(this.d=a)}append(t){let e=t.rscale;this.w+=e*(t.w+t.L+t.R),e*t.h>this.h&&(this.h=e*t.h),e*t.d>this.d&&(this.d=e*t.d)}updateFrom(t){this.h=t.h,this.d=t.d,this.w=t.w,t.pwidth&&(this.pwidth=t.pwidth)}copy(){const t=new gi;return Object.assign(t,this),t}}gi.fullWidth="100%",gi.boxSides=[["Top",0,"h"],["Right",1,"w"],["Bottom",2,"d"],["Left",3,"w"]];const Ri={loadMissingEntities:!0},fi={ApplyFunction:"\u2061",Backslash:"\u2216",Because:"\u2235",Breve:"\u02d8",Cap:"\u22d2",CenterDot:"\xb7",CircleDot:"\u2299",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",Congruent:"\u2261",ContourIntegral:"\u222e",Coproduct:"\u2210",Cross:"\u2a2f",Cup:"\u22d3",CupCap:"\u224d",Dagger:"\u2021",Del:"\u2207",Delta:"\u0394",Diamond:"\u22c4",DifferentialD:"\u2146",DotEqual:"\u2250",DoubleDot:"\xa8",DoubleRightTee:"\u22a8",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",DownLeftVector:"\u21bd",DownRightVector:"\u21c1",DownTee:"\u22a4",Downarrow:"\u21d3",Element:"\u2208",EqualTilde:"\u2242",Equilibrium:"\u21cc",Exists:"\u2203",ExponentialE:"\u2147",FilledVerySmallSquare:"\u25aa",ForAll:"\u2200",Gamma:"\u0393",Gg:"\u22d9",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Hacek:"\u02c7",Hat:"^",HumpDownHump:"\u224e",HumpEqual:"\u224f",Im:"\u2111",ImaginaryI:"\u2148",Integral:"\u222b",Intersection:"\u22c2",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",Lambda:"\u039b",Larr:"\u219e",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",LeftArrowRightArrow:"\u21c6",LeftCeiling:"\u2308",LeftDownVector:"\u21c3",LeftFloor:"\u230a",LeftRightArrow:"\u2194",LeftTee:"\u22a3",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpVector:"\u21bf",LeftVector:"\u21bc",Leftarrow:"\u21d0",Leftrightarrow:"\u21d4",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",Ll:"\u22d8",Lleftarrow:"\u21da",LongLeftArrow:"\u27f5",LongLeftRightArrow:"\u27f7",LongRightArrow:"\u27f6",Longleftarrow:"\u27f8",Longleftrightarrow:"\u27fa",Longrightarrow:"\u27f9",Lsh:"\u21b0",MinusPlus:"\u2213",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotPrecedes:"\u2280",NotPrecedesSlantEqual:"\u22e0",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsSlantEqual:"\u22e1",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotVerticalBar:"\u2224",Omega:"\u03a9",OverBar:"\u203e",OverBrace:"\u23de",PartialD:"\u2202",Phi:"\u03a6",Pi:"\u03a0",PlusMinus:"\xb1",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",Product:"\u220f",Proportional:"\u221d",Psi:"\u03a8",Rarr:"\u21a0",Re:"\u211c",ReverseEquilibrium:"\u21cb",RightAngleBracket:"\u27e9",RightArrow:"\u2192",RightArrowLeftArrow:"\u21c4",RightCeiling:"\u2309",RightDownVector:"\u21c2",RightFloor:"\u230b",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpVector:"\u21be",RightVector:"\u21c0",Rightarrow:"\u21d2",Rrightarrow:"\u21db",Rsh:"\u21b1",Sigma:"\u03a3",SmallCircle:"\u2218",Sqrt:"\u221a",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",Star:"\u22c6",Subset:"\u22d0",SubsetEqual:"\u2286",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",SuchThat:"\u220b",Sum:"\u2211",Superset:"\u2283",SupersetEqual:"\u2287",Supset:"\u22d1",Therefore:"\u2234",Theta:"\u0398",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",UnderBar:"_",UnderBrace:"\u23df",Union:"\u22c3",UnionPlus:"\u228e",UpArrow:"\u2191",UpDownArrow:"\u2195",UpTee:"\u22a5",Uparrow:"\u21d1",Updownarrow:"\u21d5",Upsilon:"\u03a5",Vdash:"\u22a9",Vee:"\u22c1",VerticalBar:"\u2223",VerticalTilde:"\u2240",Vvdash:"\u22aa",Wedge:"\u22c0",Xi:"\u039e",amp:"&",acute:"\xb4",aleph:"\u2135",alpha:"\u03b1",amalg:"\u2a3f",and:"\u2227",ang:"\u2220",angmsd:"\u2221",angsph:"\u2222",ape:"\u224a",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",beta:"\u03b2",beth:"\u2136",between:"\u226c",bigcirc:"\u25ef",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",blacklozenge:"\u29eb",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",bowtie:"\u22c8",boxdl:"\u2510",boxdr:"\u250c",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxur:"\u2514",bsol:"\\",bull:"\u2022",cap:"\u2229",check:"\u2713",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledR:"\xae",circledS:"\u24c8",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",clubs:"\u2663",colon:":",comp:"\u2201",ctdot:"\u22ef",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cup:"\u222a",curarr:"\u21b7",curlyvee:"\u22ce",curlywedge:"\u22cf",dagger:"\u2020",daleth:"\u2138",ddarr:"\u21ca",deg:"\xb0",delta:"\u03b4",digamma:"\u03dd",div:"\xf7",divideontimes:"\u22c7",dot:"\u02d9",doteqdot:"\u2251",dotplus:"\u2214",dotsquare:"\u22a1",dtdot:"\u22f1",ecir:"\u2256",efDot:"\u2252",egs:"\u2a96",ell:"\u2113",els:"\u2a95",empty:"\u2205",epsi:"\u03b5",epsiv:"\u03f5",erDot:"\u2253",eta:"\u03b7",eth:"\xf0",flat:"\u266d",fork:"\u22d4",frown:"\u2322",gEl:"\u2a8c",gamma:"\u03b3",gap:"\u2a86",gimel:"\u2137",gnE:"\u2269",gnap:"\u2a8a",gne:"\u2a88",gnsim:"\u22e7",gt:">",gtdot:"\u22d7",harrw:"\u21ad",hbar:"\u210f",hellip:"\u2026",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",imath:"\u0131",infin:"\u221e",intcal:"\u22ba",iota:"\u03b9",jmath:"\u0237",kappa:"\u03ba",kappav:"\u03f0",lEg:"\u2a8b",lambda:"\u03bb",lap:"\u2a85",larrlp:"\u21ab",larrtl:"\u21a2",lbrace:"{",lbrack:"[",le:"\u2264",leftleftarrows:"\u21c7",leftthreetimes:"\u22cb",lessdot:"\u22d6",lmoust:"\u23b0",lnE:"\u2268",lnap:"\u2a89",lne:"\u2a87",lnsim:"\u22e6",longmapsto:"\u27fc",looparrowright:"\u21ac",lowast:"\u2217",loz:"\u25ca",lt:"<",ltimes:"\u22c9",ltri:"\u25c3",macr:"\xaf",malt:"\u2720",mho:"\u2127",mu:"\u03bc",multimap:"\u22b8",nLeftarrow:"\u21cd",nLeftrightarrow:"\u21ce",nRightarrow:"\u21cf",nVDash:"\u22af",nVdash:"\u22ae",natur:"\u266e",nearr:"\u2197",nharr:"\u21ae",nlarr:"\u219a",not:"\xac",nrarr:"\u219b",nu:"\u03bd",nvDash:"\u22ad",nvdash:"\u22ac",nwarr:"\u2196",omega:"\u03c9",omicron:"\u03bf",or:"\u2228",osol:"\u2298",period:".",phi:"\u03c6",phiv:"\u03d5",pi:"\u03c0",piv:"\u03d6",prap:"\u2ab7",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",prime:"\u2032",psi:"\u03c8",quot:'"',rarrtl:"\u21a3",rbrace:"}",rbrack:"]",rho:"\u03c1",rhov:"\u03f1",rightrightarrows:"\u21c9",rightthreetimes:"\u22cc",ring:"\u02da",rmoust:"\u23b1",rtimes:"\u22ca",rtri:"\u25b9",scap:"\u2ab8",scnE:"\u2ab6",scnap:"\u2aba",scnsim:"\u22e9",sdot:"\u22c5",searr:"\u2198",sect:"\xa7",sharp:"\u266f",sigma:"\u03c3",sigmav:"\u03c2",simne:"\u2246",smile:"\u2323",spades:"\u2660",sub:"\u2282",subE:"\u2ac5",subnE:"\u2acb",subne:"\u228a",supE:"\u2ac6",supnE:"\u2acc",supne:"\u228b",swarr:"\u2199",tau:"\u03c4",theta:"\u03b8",thetav:"\u03d1",tilde:"\u02dc",times:"\xd7",triangle:"\u25b5",triangleq:"\u225c",upsi:"\u03c5",upuparrows:"\u21c8",veebar:"\u22bb",vellip:"\u22ee",weierp:"\u2118",xi:"\u03be",yen:"\xa5",zeta:"\u03b6",zigrarr:"\u21dd",nbsp:"\xa0",rsquo:"\u2019",lsquo:"\u2018"},Ni={};function Li(t,e){Object.assign(fi,t),Ni[e]=!0}function bi(t){delete fi[t]}function Ci(t){return t.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,Ii)}function Ii(t,e){if("#"===e.charAt(0))return yi(e.slice(1));if(fi[e])return fi[e];if(Ri.loadMissingEntities){let t=e.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e.charAt(0).toLowerCase();Ni[t]||(Ni[t]=!0,Qs(oi("./util/entities/"+t+".js")))}return t}function yi(t){let e="x"===t.charAt(0)?parseInt(t.slice(1),16):parseInt(t);return String.fromCodePoint(e)}class Ti{get cssText(){return this.getStyleString()}constructor(t=null){this.styles={},this.addStyles(t)}addStyles(t){if(t)for(const e of Object.keys(t))this.styles[e]||(this.styles[e]={}),Object.assign(this.styles[e],t[e])}removeStyles(...t){for(const e of t)delete this.styles[e]}clear(){this.styles={}}getStyleString(){return this.getStyleRules().join("\n\n")}getStyleRules(){const t=Object.keys(this.styles),e=new Array(t.length);let s=0;for(const i of t)e[s++]=i+" {\n"+this.getStyleDefString(this.styles[i])+"\n}";return e}getStyleDefString(t){const e=Object.keys(t),s=new Array(e.length);let i=0;for(const r of e)s[i++]="  "+r+": "+t[r]+";";return s.join("\n")}}const Oi=["top","right","bottom","left"],xi=["width","style","color"];function Ai(t){const e=t.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),s=[];for(;e.length>1;)e.shift(),s.push(e.shift());return s}function vi(t){const e=Ai(this.styles[t]);0===e.length&&e.push(""),1===e.length&&e.push(e[0]),2===e.length&&e.push(e[0]),3===e.length&&e.push(e[1]);for(const s of wi.connect[t].children)this.setStyle(this.childName(t,s),e.shift())}const Di=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,Si=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function Bi(t){let e={width:"",style:"",color:""};for(const s of Ai(this.styles[t]))s.match(Di)&&""===e.width?e.width=s:s.match(Si)&&""===e.style?e.style=s:e.color=s;for(const s of wi.connect[t].children)this.setStyle(this.childName(t,s),e[s])}function Mi(t){const e=[];for(const s of wi.connect[t].children){const i=this.styles[this.childName(t,s)];i&&e.push(i)}e.length?this.styles[t]=e.join(" "):delete this.styles[t]}const ki={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[\\d.]+%|[\\d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$")};function Pi(t,e){for(const s of wi.connect[t].children){const i=this.childName(t,s);if(Array.isArray(e[s])){const t=e[s];t.length&&(this.styles[i]=t.join(" "))}else""!==e[s]&&(this.styles[i]=e[s])}}class wi{constructor(t=""){this.parse(t)}sanitizeValue(t){let e=this.constructor.pattern;if(!t.match(e.sanitize))return t;const s=(t=t.replace(e.value,"$1")).replace(/\\./g,"").replace(/(['"]).*?\1/g,"").replace(/[^'"]/g,"");return s.length&&(t+=s.charAt(0)),t}get cssText(){const t=[];for(const e of Object.keys(this.styles)){const s=this.parentName(e);this.styles[s]||t.push(e+": "+this.sanitizeValue(this.styles[e])+";")}return t.join(" ")}get styleList(){return Object.assign({},this.styles)}set(t,e){for(t=this.normalizeName(t),this.setStyle(t,e),wi.connect[t]&&!wi.connect[t].combine&&(this.combineChildren(t),delete this.styles[t]);t.match(/-/)&&(t=this.parentName(t),wi.connect[t]);)wi.connect[t].combine.call(this,t)}get(t){return t=this.normalizeName(t),this.styles.hasOwnProperty(t)?this.styles[t]:""}setStyle(t,e){this.styles[t]=e,wi.connect[t]&&wi.connect[t].children&&wi.connect[t].split.call(this,t),""===e&&delete this.styles[t]}combineChildren(t){const e=this.parentName(t);for(const s of wi.connect[t].children){const t=this.childName(e,s);wi.connect[t].combine.call(this,t)}}parentName(t){const e=t.replace(/-[^-]*$/,"");return t===e?"":e}childName(t,e){return e.match(/-/)?e:(wi.connect[t]&&!wi.connect[t].combine&&(e+=t.replace(/.*-/,"-"),t=this.parentName(t)),t+"-"+e)}normalizeName(t){return t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))}parse(t=""){let e=this.constructor.pattern;this.styles={};const s=t.replace(/\n/g," ").replace(e.comment,"").split(e.style);for(;s.length>1;){let[t,e,i]=s.splice(0,3);if(t.match(/[^\s\n;]/))return;this.set(e,i)}}}function ji(t){return t.reduce(((t,e)=>t+e),0)}function Hi(t){return t.reduce(((t,e)=>Math.max(t,e)),0)}wi.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^';])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},wi.connect={padding:{children:Oi,split:vi,combine:function(t){const e=wi.connect[t].children,s=[];for(const i of e){const e=this.styles[t+"-"+i];if(!e)return void delete this.styles[t];s.push(e)}s[3]===s[1]&&(s.pop(),s[2]===s[0]&&(s.pop(),s[1]===s[0]&&s.pop())),this.styles[t]=s.join(" ")}},border:{children:Oi,split:function(t){for(const e of wi.connect[t].children)this.setStyle(this.childName(t,e),this.styles[t])},combine:function(t){const e=[...wi.connect[t].children],s=this.styles[this.childName(t,e.shift())];for(const i of e)if(this.styles[this.childName(t,i)]!==s)return void delete this.styles[t];this.styles[t]=s}},"border-top":{children:xi,split:Bi,combine:Mi},"border-right":{children:xi,split:Bi,combine:Mi},"border-bottom":{children:xi,split:Bi,combine:Mi},"border-left":{children:xi,split:Bi,combine:Mi},"border-width":{children:Oi,split:vi,combine:null},"border-style":{children:Oi,split:vi,combine:null},"border-color":{children:Oi,split:vi,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:function(t){const e=Ai(this.styles[t]),s={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};for(const t of e){s.family||(s.family=t);for(const e of Object.keys(ki))if((Array.isArray(s[e])||""===s[e])&&t.match(ki[e]))if(s.family===t&&(s.family=""),"size"===e){const[i,r]=t.split(/\//);s[e]=i,r&&(s["line-height"]=r)}else""===s.size&&(Array.isArray(s[e])?s[e].push(t):""===s[e]&&(s[e]=t))}Pi.call(this,t,s),delete this.styles[t]},combine:function(t){}}},MathJax.loader&&MathJax.loader.checkVersion("core",Tt,"core"),Dt({_:{adaptors:{HTMLAdaptor:i,browserAdaptor:r},components:{global:e},core:{DOMAdaptor:s,FindMath:a,Handler:st,HandlerList:it,InputJax:h,MathDocument:et,MathItem:p,MathList:u,MmlTree:{Attributes:g,MML:Z,MathMLVisitor:at,MmlFactory:Q,MmlNode:f,MmlNodes:{HtmlNode:Y,TeXAtom:_,maction:H,maligngroup:G,malignmark:K,math:N,mathchoice:V,menclose:j,merror:M,mfenced:w,mfrac:v,mglyph:$,mi:L,mmultiscripts:X,mn:b,mo:y,mpadded:k,mphantom:P,mroot:S,mrow:A,ms:x,mspace:O,msqrt:D,mstyle:B,msubsup:W,mtable:q,mtd:z,mtext:T,mtr:J,munderover:F,semantics:U},MmlVisitor:nt,OperatorDictionary:C,SerializedMmlVisitor:ot},OutputJax:c,Tree:{Factory:E,Node:R,NodeFactory:m,Visitor:rt,Wrapper:lt,WrapperFactory:ht}},handlers:{html_ts:Rt,html:{HTMLDocument:mt,HTMLDomStrings:Et,HTMLHandler:gt,HTMLMathItem:ut,HTMLMathList:pt}},mathjax:dt,util:{AsyncLoad:ft,BBox:Lt,BitField:tt,Entities:bt,FunctionList:l,LinkedList:d,Options:n,PrioritizedList:o,Retries:ct,StyleList:Ct,Styles:It,lengths:Nt,numeric:yt,string:I}}}),MathJax.startup&&(MathJax.startup.registerConstructor("HTMLHandler",ni),MathJax.startup.registerConstructor("browserAdaptor",kt),MathJax.startup.useHandler("HTMLHandler"),MathJax.startup.useAdaptor("browserAdaptor")),MathJax.loader&&(MathJax._.mathjax.mathjax.asyncLoad=t=>MathJax.loader.load(t))})();